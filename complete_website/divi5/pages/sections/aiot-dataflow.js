/**
 * aiot-dataflow.js — Dataflow Section (S4)
 *
 * AUTO-GENERATED by scaffold-builder.js — review and customize before pushing.
 * Source: aiot.html line 1321
 *
 * Original classes: dataflow-section, dataflow-header, dataflow-visual, dataflow-stages, dataflow-stage (+3 more)
 */

const base = require('../../lib/templates/_base');

const P = 'dat'; // CSS prefix — customize if needed

// ════════════════════════════════════════════════════════════════
// BLOCKS
// ════════════════════════════════════════════════════════════════
function blocks() {
  const html = `
    <div class="dataflow-section">
    <div class="dataflow-header" style="position: relative; z-index: 2;">
                <h2>How DigiWin AIoT Works</h2>
                <p>From machine signal to actionable intelligence in real-time</p>
            </div>
            <div class="dataflow-visual" style="position: relative; z-index: 2;">
                <div class="dataflow-stages">
                    <div class="dataflow-stage">
                        <div class="dataflow-stage-number">1</div>
                        <h3>Connect</h3>
                        <p>Edge devices collect data from any machine, any brand, any age</p>
                        <div class="dataflow-items">
                            <span class="dataflow-item">PLCs</span>
                            <span class="dataflow-item">CNCs</span>
                            <span class="dataflow-item">Sensors</span>
                            <span class="dataflow-item">Meters</span>
                        </div>
                    </div>
                    <div class="dataflow-stage">
                        <div class="dataflow-stage-number">2</div>
                        <h3>Translate</h3>
                        <p>Universal protocol support turns signals into standardized data</p>
                        <div class="dataflow-items">
                            <span class="dataflow-item">OPC-UA</span>
                            <span class="dataflow-item">Modbus</span>
                            <span class="dataflow-item">MQTT</span>
                            <span class="dataflow-item">MT Connect</span>
                        </div>
                    </div>
                    <div class="dataflow-stage">
                        <div class="dataflow-stage-number">3</div>
                        <h3>Analyze</h3>
                        <p>AI models detect patterns, predict failures, optimize performance</p>
                        <div class="dataflow-items">
                            <span class="dataflow-item">OEE</span>
                            <span class="dataflow-item">Anomaly</span>
                            <span class="dataflow-item">Trends</span>
                            <span class="dataflow-item">Alerts</span>
                        </div>
                    </div>
                    <div class="dataflow-stage">
                        <div class="dataflow-stage-number">4</div>
                        <h3>Act</h3>
                        <p>Dashboards, alerts, and integrations drive immediate action</p>
                        <div class="dataflow-items">
                            <span class="dataflow-item">ERP</span>
                            <span class="dataflow-item">MES</span>
                            <span class="dataflow-item">Mobile</span>
                            <span class="dataflow-item">Andon</span>
                        </div>
                    </div>
                </div>
            </div>
    </div>
    `;

  return base.wrapInDiviSection('Dataflow', html, 'Dataflow: Content');
}

// ════════════════════════════════════════════════════════════════
// CSS
// ════════════════════════════════════════════════════════════════
function css() {
  return `
/* === DATAFLOW (S4) === */
/* TODO: Review and remap class selectors to use ${P} prefix */
/* TODO: Add section container: .dataflow-section{...;${base.fontSmoothingReset(P)}font-size:16px} */
.dataflow-section {
            padding: 100px 0;
            background: #F5F7FA;
        }
.dataflow-header {
            text-align: center;
            max-width: 800px;
            margin: 0 auto 60px;
            padding: 0 24px;
        }
.dataflow-header h2 {
            font-family: 'Noto Sans', sans-serif;
            font-size: 36px;
            color: #000864;
            margin-bottom: 16px;
        }
.dataflow-visual {
            max-width: 1100px;
            margin: 0 auto;
            padding: 0 24px;
        }
.dataflow-stages {
            display: flex;
            align-items: stretch;
            justify-content: space-between;
            gap: 20px;
        }
.dataflow-stage {
            flex: 1;
            background: #fff;
            border-radius: 16px;
            padding: 32px 24px;
            text-align: center;
            box-shadow: 0 4px 20px rgba(0,0,0,0.06);
            position: relative;
        }
.dataflow-stage:not(:last-child)::after {
            content: '';
            position: absolute;
            right: -22px;
            top: 50%;
            transform: translateY(-50%);
            width: 24px;
            height: 24px;
            background: #00AFF0;
            clip-path: polygon(0 0, 100% 50%, 0 100%);
            z-index: 1;
        }
.dataflow-stage-number {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #00AFF0, #003CC8);
            color: #fff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Noto Sans', sans-serif;
            font-weight: 600;
            font-size: 18px;
            margin: 0 auto 16px;
        }
.dataflow-stage h3 {
            font-family: 'Noto Sans', sans-serif;
            font-size: 18px;
            color: #000864;
            margin-bottom: 12px;
        }
.dataflow-stage p {
            font-size: 14px;
            color: #5b6b80;
            line-height: 1.5;
        }
.dataflow-items {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            justify-content: center;
            margin-top: 16px;
        }
.dataflow-item {
            background: #F5F7FA;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            color: #475569;
        }
@media (max-width: 1024px) {
            .dataflow-stages { flex-wrap: wrap; }
            .dataflow-stage:not(:last-child)::after { display: none; }
        }
@media (max-width: 640px) {
            .dataflow-stages { flex-direction: column; }
        }
/* Divi overrides */
.et_pb_section .dataflow-header h2{font-weight:700 !important;line-height:1.3 !important;font-size:36px !important}
.et_pb_section .dataflow-header p{font-weight:400 !important;padding-bottom:0 !important}
.et_pb_section .dataflow-stage h3{font-weight:600 !important;line-height:1.3 !important}
.et_pb_section .dataflow-stage p{padding-bottom:0 !important;line-height:1.5 !important}
.et_pb_section .dataflow-stage-number{font-weight:600 !important}
`.trim();
}

module.exports = { blocks, css };
