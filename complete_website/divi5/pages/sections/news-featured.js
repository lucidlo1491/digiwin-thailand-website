/**
 * news-featured.js — Featured Section (S2)
 *
 * AUTO-GENERATED by scaffold-builder.js — review and customize before pushing.
 * Source: news.html line 1280
 *
// NOTE: Contains inline SVGs — may need Base64 JS injection if wp_kses strips elements.
 * styles.css: 11 base, 0 hover, 0 pseudo, 0 hidden
 * Original classes: featured-section, fade-in-section, featured-inner, featured-label, featured-card (+15 more)
 */

// TEMPLATE HINT: matches "card-grid-dark". See home-trust-anchors.js for example.
const base = require('../../lib/templates/_base');

const P = 'fea'; // CSS prefix — customize if needed

// ════════════════════════════════════════════════════════════════
// BLOCKS
// ════════════════════════════════════════════════════════════════
function blocks() {
  const html = `
    <div class="featured-inner" style="position: relative; z-index: 2;">
                <span class="featured-label">Featured Event</span>
                <div class="featured-card">
                    <div class="featured-image">
                        <div class="${P}">
                            <div class="${P}-month">Mar</div>
                            <div class="${P}-day">15</div>
                            <div class="${P}-year">2026</div>
                            <div class="${P}-divider"></div>
                        </div>
                        <div class="${P}-meta">
                            <div class="${P}-meta-item">
                                <svg aria-hidden="true" viewBox="0 0 24 24" stroke-width="2"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                                09:00 – 16:00
                            </div>
                            <div class="${P}-meta-item">
                                <svg aria-hidden="true" viewBox="0 0 24 24" stroke-width="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"/><circle cx="12" cy="10" r="3"/></svg>
                                Bangkok, Thailand
                            </div>
                        </div>
                        <span class="urgency-badge">
                            <svg aria-hidden="true" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4-4v-2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 00-3-3.87"/><path d="M16 3.13a4 4 0 010 7.75"/></svg>
                            Limited to 30 Participants
                        </span>
                    </div>
                    <div class="featured-content">
                        <span class="event-type-badge workshop">Workshop</span>
                        <h2>BOI Compliance Workshop: Production-Level Reconciliation That Passes Every Audit</h2>
                        <div class="event-meta">
                            <div class="event-meta-item">
                                <svg aria-hidden="true" viewBox="0 0 24 24" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
                                March 15, 2026 | 09:00 – 16:00
                            </div>
                            <div class="event-meta-item">
                                <svg aria-hidden="true" viewBox="0 0 24 24" stroke-width="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"/><circle cx="12" cy="10" r="3"/></svg>
                                Bangkok, Thailand
                            </div>
                        </div>
                        <p>Learn how production-order-level material tracking eliminates BOI supplementary taxes. Featuring the Jin Hai case study: from 10M THB/year to zero.</p>
                        <a href="events/boi-compliance-workshop.html" class="event-cta">Register Now
                            <svg aria-hidden="true" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>
                        </a>
                    </div>
                </div>
            </div>`;

  return base.wrapInDiviSection('Featured', html, 'Featured: Content');
}

// ════════════════════════════════════════════════════════════════
// CSS
// ════════════════════════════════════════════════════════════════
function css() {
  return `
/* === FEATURED (S2) === */
/* Divi 5 section boilerplate (font-smoothing, p padding, heading resets) */
.${P}-section{position:relative;overflow:hidden;${base.fontSmoothingReset(P)}font-size:16px}
.${P}-section p{padding-bottom:0;line-height:1.6}
.${P}-section h2,.${P}-section h3,.${P}-section h4{margin:0;padding:0;line-height:1.6}
/* .featured-section padding/bg handled by section-level :has() overrides */
.featured-inner {
            max-width: 1200px;
            margin: 0 auto;
        }
.featured-label {
            font-family: 'JetBrains Mono', monospace;
            font-size: 12px;
            font-weight: 500;
            color: #0369a1;
            letter-spacing: 2px;
            text-transform: uppercase;
            margin-bottom: 24px;
            display: block;
        }
.featured-card {
            display: grid;
            grid-template-columns: 1.2fr 1fr;
            background: #fff;
            border: 1px solid #e2e8f0;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 4px 24px rgba(0,0,0,0.06);
            transition: all 0.3s ease;
        }
.featured-card:hover {
            border-color: #00AFF0;
            box-shadow: 0 12px 40px rgba(0, 175, 240, 0.12);
        }
.featured-image {
            background: linear-gradient(165deg, #0f1419 0%, #1a2632 40%, #000864 100%);
            min-height: 380px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            padding: 48px 32px;
            gap: 24px;
        }
.featured-image::before {
            content: '';
            position: absolute;
            inset: 0;
            background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
            opacity: 0.03;
            pointer-events: none;
            animation: grain 8s steps(10) infinite;
        }
.featured-image::after {
            content: '';
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at 50% 40%, rgba(0,175,240,0.1), transparent 60%);
            pointer-events: none;
        }
.fea {
            position: relative;
            z-index: 1;
            text-align: center;
        }
.fea-month {
            font-family: 'JetBrains Mono', monospace;
            font-size: 16px;
            font-weight: 500;
            color: #0369a1;
            letter-spacing: 4px;
            text-transform: uppercase;
            margin-bottom: 4px;
        }
.fea-day {
            font-family: 'Noto Sans', sans-serif;
            font-size: 80px;
            font-weight: 700;
            color: #fff;
            line-height: 1;
            margin-bottom: 4px;
        }
.fea-year {
            font-family: 'JetBrains Mono', monospace;
            font-size: 14px;
            font-weight: 400;
            color: rgba(255,255,255,0.75);
            letter-spacing: 3px;
            margin-bottom: 20px;
        }
.fea-divider {
            width: 48px;
            height: 2px;
            background: linear-gradient(90deg, transparent, #00AFF0, transparent);
            margin: 0 auto 20px;
        }
.fea-meta {
            display: flex;
            flex-direction: column;
            gap: 10px;
            position: relative;
            z-index: 1;
        }
.fea-meta-item {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 13px;
            color: rgba(255,255,255,0.75);
        }
.fea-meta-item svg {
            width: 15px;
            height: 15px;
            stroke: #00AFF0;
            fill: none;
            flex-shrink: 0;
        }
.urgency-badge {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: rgba(245, 158, 11, 0.15);
            border: 1px solid rgba(245, 158, 11, 0.3);
            color: #b45309;
            font-family: 'JetBrains Mono', monospace;
            font-size: 11px;
            font-weight: 500;
            letter-spacing: 1px;
            text-transform: uppercase;
            padding: 8px 16px;
            border-radius: 50px;
            position: relative;
            z-index: 1;
            margin-top: 4px;
        }
.featured-content {
            padding: 48px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
.event-type-badge {
            display: inline-flex;
            align-items: center;
            padding: 6px 14px;
            border-radius: 50px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 11px;
            font-weight: 500;
            letter-spacing: 1px;
            text-transform: uppercase;
            margin-bottom: 16px;
            width: fit-content;
        }
.event-type-badge.seminar {
            background: rgba(0, 175, 240, 0.12);
            color: #0369a1;
        }
.event-type-badge.workshop {
            background: rgba(34, 197, 94, 0.12);
            color: #15803d;
        }
.event-type-badge.factory-visit {
            background: rgba(245, 158, 11, 0.12);
            color: #b45309;
        }
.event-type-badge.trade-show {
            background: rgba(139, 92, 246, 0.12);
            color: #7c3aed;
        }
.featured-content h2 {
            font-family: 'Noto Sans', sans-serif;
            font-size: 28px;
            font-weight: 700;
            color: #000864;
            line-height: 1.3;
            margin-bottom: 16px;
        }
.event-meta {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-bottom: 20px;
        }
.event-meta-item {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 14px;
            color: #5b6b80;
        }
.event-meta-item svg {
            width: 16px;
            height: 16px;
            stroke: #00AFF0;
            fill: none;
            flex-shrink: 0;
        }
.featured-content p {
            font-size: 15px;
            color: #5b6b80;
            line-height: 1.7;
            margin-bottom: 28px;
        }
.event-cta {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 14px 32px;
            background: linear-gradient(135deg, #00AFF0, #003CC8);
            color: #fff;
            text-decoration: none;
            border-radius: 12px;
            font-family: 'Noto Sans', sans-serif;
            font-size: 15px;
            font-weight: 600;
            transition: all 0.3s ease;
            width: fit-content;
        }
.event-cta:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0, 175, 240, 0.3);
        }
.upcoming-card-border.workshop { background: #22C55E; }
.upcoming-card-body .event-type-badge {
            margin-bottom: 16px;
        }
.upcoming-card-body .event-meta {
            margin-bottom: 16px;
        }
.past-card .event-type-badge {
            margin-bottom: 12px;
        }
.fade-in-section {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.4s ease, transform 0.4s ease;
        }
.fade-in-section.is-visible {
            opacity: 1;
            transform: translateY(0);
        }
@media (max-width: 1024px) {
.featured-card {
                grid-template-columns: 1fr;
            }
.featured-image {
                min-height: 240px;
                padding: 36px 24px;
            }
.fea-day {
                font-size: 64px;
            }
}
@media (max-width: 640px) {
.fea-day {
                font-size: 56px;
            }
.featured-content {
                padding: 28px;
            }
.featured-content h2 {
                font-size: 22px;
            }
}

/* REF: BASE RULES from styles.css (check against inline CSS above) */
/* .event-type-badge{display:inline-flex;align-items:center;padding:6px 14px;border-radius:50px;font-family:'JetBrains Mono', monospace;font-size:11px;font-weight:500;letter-spacing:1px;text-transform:uppercase;margin-bottom:16px;width:fit-content} */
/* .event-type-badge.seminar{background:rgba(0, 175, 240, 0.12);color:var(--dw-blue-text)} */
/* .event-type-badge.workshop{background:rgba(34, 197, 94, 0.12);color:#15803d} */
/* .event-type-badge.factory-visit{background:rgba(245, 158, 11, 0.12);color:#b45309} */
/* .event-type-badge.trade-show{background:rgba(139, 92, 246, 0.12);color:#7c3aed} */
/* .event-meta{display:flex;flex-direction:column;gap:8px;margin-bottom:20px} */
/* .event-meta-item{display:flex;align-items:center;gap:10px;font-family:'Noto Sans', sans-serif;font-size:14px;color:#5b6b80} */
/* .event-meta-item svg{width:16px;height:16px;stroke:var(--dw-blue-text);fill:none;flex-shrink:0} */
/* .upcoming-card-border.workshop{background:#22C55E} */
/* .upcoming-card-body .event-type-badge{margin-bottom:16px} */
/* .upcoming-card-body .event-meta{margin-bottom:16px} */


${base.reducedMotion('*{animation:none !important;transition:none !important}')}

.et_pb_section .fea-month {
            line-height: 25.6px !important;
        
            color: rgb(3, 105, 161);

            margin-bottom: 4px;

            -webkit-font-smoothing: auto !important;
}

.et_pb_section .fea-year {
            line-height: 22.4px !important;
        
            -webkit-font-smoothing: auto !important;
}

.et_pb_section .fea-meta-item {
            line-height: 20.8px !important;
        
            -webkit-font-smoothing: auto !important;
}

.et_pb_section .urgency-badge {
            line-height: 17.6px !important;
        
            -webkit-font-smoothing: auto !important;
}

.et_pb_section .event-type-badge {
            line-height: 17.6px !important;
        
            -webkit-font-smoothing: auto !important;
}

.et_pb_section .event-meta-item {
            line-height: 22.4px !important;
        
            -webkit-font-smoothing: auto !important;
}

.et_pb_section .event-cta {
            -webkit-font-smoothing: auto !important;
        }

.et_pb_section .fea-day {
            line-height: 80px !important;
        
            color: rgb(255, 255, 255);

            margin-bottom: 4px;

            -webkit-font-smoothing: auto !important;
}

/* Divi section-level overrides */
.et_pb_section:has(.featured-inner) {
  background: #fff !important;
  padding: 100px 24px !important;
}

.et_pb_section:has(.featured-inner) .et_pb_row {
  max-width: 100% !important;
  width: 100% !important;
  padding: 0 !important;
}

.et_pb_section:has(.featured-inner) .et_pb_column {
  padding: 0 !important;
}

.et_pb_section .featured-inner {
  width: 100% !important;
  -webkit-font-smoothing: auto !important;
}

.et_pb_section .featured-label {
  line-height: 19.2px !important;
}

.et_pb_section .featured-content h2 {
  font-size: 24px !important;
  line-height: 1.6 !important;
  color: rgb(51, 51, 51) !important;
  padding: 0 !important;
  margin: 0 !important;
  -webkit-font-smoothing: auto !important;
}

.et_pb_section .event-cta {
  line-height: 24px !important;
}

.et_pb_section .featured-card {
  display: grid !important;
  grid-template-columns: 1.2fr 1fr !important;
  border-radius: 20px !important;
  overflow: hidden !important;
  border: 1px solid #e2e8f0 !important;
  background: #fff !important;
  box-shadow: 0 4px 24px rgba(0,0,0,0.06) !important;
}

.et_pb_section .featured-image {
  background: linear-gradient(165deg, #0f1419 0%, #1a2632 40%, #000864 100%) !important;
  min-height: 380px !important;
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: center !important;
  position: relative !important;
  overflow: hidden !important;
  padding: 48px 32px !important;
  gap: 24px !important;
}

.et_pb_section .featured-content {
  padding: 48px !important;
  display: flex !important;
  flex-direction: column !important;
  justify-content: center !important;
}

.et_pb_section .featured-content p {
  padding-bottom: 0 !important;
  -webkit-font-smoothing: auto !important;
  font-size: 15px !important;
  color: #5b6b80 !important;
  line-height: 1.7 !important;
}

.et_pb_section .fea {
  text-align: center !important;
}

.et_pb_section .fea-month {
  font-family: 'JetBrains Mono', monospace !important;
  font-size: 16px !important;
  font-weight: 500 !important;
  color: #0369a1 !important;
  letter-spacing: 2px !important;
  text-transform: uppercase !important;
  margin-bottom: 4px !important;
}

.et_pb_section .fea-day {
  font-family: 'Noto Sans', sans-serif !important;
  font-size: 80px !important;
  font-weight: 700 !important;
  color: #fff !important;
  line-height: 1 !important;
  margin-bottom: 4px !important;
}

.et_pb_section .fea-year {
  font-family: 'JetBrains Mono', monospace !important;
  font-size: 14px !important;
  color: rgba(255,255,255,0.6) !important;
  letter-spacing: 3px !important;
}

.et_pb_section .fea-divider {
  width: 40px !important;
  height: 2px !important;
  background: rgba(255,255,255,0.3) !important;
  margin: 16px auto 0 !important;
}

.et_pb_section .fea-meta {
  display: flex !important;
  flex-direction: column !important;
  gap: 8px !important;
}

.et_pb_section .fea-meta-item {
  display: flex !important;
  align-items: center !important;
  gap: 8px !important;
  color: rgba(255,255,255,0.75) !important;
  font-size: 13px !important;
}

.et_pb_section .fea-meta-item svg {
  width: 14px !important;
  height: 14px !important;
  stroke: rgba(255,255,255,0.6) !important;
  fill: none !important;
  flex-shrink: 0 !important;
}

.et_pb_section .urgency-badge {
  display: inline-flex !important;
  align-items: center !important;
  gap: 6px !important;
  background: rgba(245, 158, 11, 0.15) !important;
  border: 1px solid rgba(245, 158, 11, 0.3) !important;
  color: #b45309 !important;
  font-family: 'JetBrains Mono', monospace !important;
  font-size: 11px !important;
  padding: 8px 16px !important;
  border-radius: 50px !important;
}

.et_pb_section .event-cta {
  display: inline-flex !important;
  align-items: center !important;
  gap: 8px !important;
  background: linear-gradient(135deg, #00AFF0, #003CC8) !important;
  color: #fff !important;
  padding: 14px 28px !important;
  border-radius: 12px !important;
  font-weight: 600 !important;
  font-size: 15px !important;
  text-decoration: none !important;
  margin-top: auto !important;
  width: fit-content !important;
}

/* Force fade-in-section visible (no JS scroll observer in WP) */
.et_pb_section .fade-in-section {
  opacity: 1 !important;
  transform: none !important;
}
`.trim();
}

module.exports = { blocks, css };
