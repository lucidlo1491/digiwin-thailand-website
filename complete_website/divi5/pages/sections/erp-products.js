/**
 * erp-products.js — Products Section (S4)
 *
 * AUTO-GENERATED by scaffold-builder.js — review and customize before pushing.
 * Source: erp.html line 1819
 *
// NOTE: Contains inline SVGs — may need Base64 JS injection if wp_kses strips elements.
 * styles.css: 15 base, 4 hover, 2 pseudo, 0 hidden
 * Original classes: products-section, products-inner, products-header, products-label, products-title (+32 more)
 */

const base = require('../../lib/templates/_base');
const { cardCSS, featureListCSS, bestForCSS } = require('../../theme/components');

const P = 'pro'; // CSS prefix — customize if needed

// ════════════════════════════════════════════════════════════════
// BLOCKS
// ════════════════════════════════════════════════════════════════
function blocks() {
  const html = `
    <div class="products-section">
    <div class="products-inner">
                <div class="products-header">
                    <p class="products-label">Choose Your Scale</p>
                    <h2 class="products-title">Two ERPs, One Philosophy</h2>
                    <p class="products-subtitle">Manufacturing-first design that grows with your business. Start where you are, scale when ready.</p>
                </div>
    
                
                <nav class="erp-use-case-pills" aria-label="ERP use cases">
                    <a href="#igp-card" class="erp-use-case-pill">Warehouse ERP</a>
                    <a href="#t100-card" class="erp-use-case-pill">Smart Factory</a>
                    <a href="#igp-card" class="erp-use-case-pill">Cloud ERP</a>
                    <a href="#capabilities" class="erp-use-case-pill">Financial</a>
                    <a href="#t100-card" class="erp-use-case-pill">Custom Solutions</a>
                </nav>
    
                <div class="products-comparison">
                    
                    <div class="product-card" id="t100-card">
                        <div class="product-card-header">
                            <span class="product-card-badge">Enterprise Scale</span>
                            <h3 class="product-card-name">T100</h3>
                            <p class="product-card-tagline">Full ERP for complex operations</p>
                        </div>
                        <div class="product-card-body">
                            <p class="product-card-desc">Multi-site, multi-currency, multi-company—built for enterprises that need complete control across complex, distributed operations.</p>
                            <ul class="product-features">
                                <li><span class="check-icon"><svg aria-hidden="true" viewBox="0 0 12 12"><path d="M2 6l3 3 5-5"/></svg></span> Multi-company consolidation</li>
                                <li><span class="check-icon"><svg aria-hidden="true" viewBox="0 0 12 12"><path d="M2 6l3 3 5-5"/></svg></span> Advanced financial reporting</li>
                                <li><span class="check-icon"><svg aria-hidden="true" viewBox="0 0 12 12"><path d="M2 6l3 3 5-5"/></svg></span> Complex BOM with engineering change control</li>
                                <li><span class="check-icon"><svg aria-hidden="true" viewBox="0 0 12 12"><path d="M2 6l3 3 5-5"/></svg></span> Enterprise workflow engine</li>
                                <li><span class="check-icon"><svg aria-hidden="true" viewBox="0 0 12 12"><path d="M2 6l3 3 5-5"/></svg></span> Advanced MRP &amp; production scheduling</li>
                                <li><span class="check-icon"><svg aria-hidden="true" viewBox="0 0 12 12"><path d="M2 6l3 3 5-5"/></svg></span> Business intelligence dashboards included</li>
                            </ul>
                            <div class="product-best-for">
                                <div class="product-best-for-label">Best For</div>
                                <div class="product-best-for-text">200+ employees, multi-site, complex supply chains, group companies needing consolidation</div>
                            </div>
    
                            
                            <div class="erp-trust-callout">
                                <div class="erp-trust-icon">
                                    <svg aria-hidden="true" viewBox="0 0 24 24"><rect x="5" y="11" width="14" height="10" rx="2"/><path d="M12 3a4 4 0 0 0-4 4v4h8V7a4 4 0 0 0-4-4z"/><path d="M8 7v4M16 7v4"/><circle cx="12" cy="16" r="1"/><path d="M12 17v2"/></svg>
                                </div>
                                <div>
                                    <h4 class="erp-trust-title">Your Data Belongs to You</h4>
                                    <p class="erp-trust-body">Full source code transfer included. Your system, your data, your independence — no vendor lock-in, ever. Backed by 24/7 e-Service and e-Learning support.</p>
                                </div>
                            </div>
                        </div>
                    </div>
    
                    
                    <div class="product-card" id="igp-card">
                        <div class="product-card-header">
                            <span class="product-card-badge">Growth Stage</span>
                            <h3 class="product-card-name">iGP</h3>
                            <p class="product-card-tagline">Right-sized for growing factories</p>
                        </div>
                        <div class="product-card-body">
                            <p class="product-card-desc">All the manufacturing-specific features you need without the enterprise complexity you don't. Fast to implement, easy to master.</p>
                            <ul class="product-features">
                                <li><span class="check-icon"><svg aria-hidden="true" viewBox="0 0 12 12"><path d="M2 6l3 3 5-5"/></svg></span> Complete financials & inventory</li>
                                <li><span class="check-icon"><svg aria-hidden="true" viewBox="0 0 12 12"><path d="M2 6l3 3 5-5"/></svg></span> Production planning & MRP</li>
                                <li><span class="check-icon"><svg aria-hidden="true" viewBox="0 0 12 12"><path d="M2 6l3 3 5-5"/></svg></span> Quality management</li>
                                <li><span class="check-icon"><svg aria-hidden="true" viewBox="0 0 12 12"><path d="M2 6l3 3 5-5"/></svg></span> Procurement & sales</li>
                                <li><span class="check-icon"><svg aria-hidden="true" viewBox="0 0 12 12"><path d="M2 6l3 3 5-5"/></svg></span> Standard dashboards</li>
                                <li><span class="check-icon"><svg aria-hidden="true" viewBox="0 0 12 12"><path d="M2 6l3 3 5-5"/></svg></span> Rapid implementation</li>
                            </ul>
                            <div class="product-best-for">
                                <div class="product-best-for-label">Best For</div>
                                <div class="product-best-for-text">20–200 employees, single site, straightforward operations, moving beyond spreadsheets</div>
                            </div>
    
                            
                            <p class="erp-proven-in">Proven across auto parts, food processing, electronics, machinery, fasteners, rubber &amp; plastics, textiles, and many more manufacturing verticals.</p>
    
                            
                            <details class="erp-erpii-accordion">
                                <summary>iGP is more than ERP <span class="accordion-icon" aria-hidden="true">+</span></summary>
                                <div class="erpii-content">
                                    <h4 class="erpii-title">Start with ERP. Expand into Everything.</h4>
                                    <p class="erpii-subtitle">iGP is a complete ERPII platform. Start with financials and production, then add modules as you grow — no system change required.</p>
                                    <div class="erpii-modules-grid">
                                        <div class="erpii-module-card">
                                            <div class="erpii-module-icon">
                                                <svg aria-hidden="true" viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M3 9h18M9 21V9"/></svg>
                                            </div>
                                            <div class="erpii-module-label">BI / KPI</div>
                                            <div class="erpii-module-name">Business Intelligence</div>
                                            <div class="erpii-module-desc">Executive dashboards and balanced scorecard</div>
                                        </div>
                                        <div class="erpii-module-card">
                                            <div class="erpii-module-icon">
                                                <svg aria-hidden="true" viewBox="0 0 24 24"><path d="M16 3h5v5M4 20L21 3M21 16v5h-5M14 14l7 7M3 8V3h5M10 10L3 3"/></svg>
                                            </div>
                                            <div class="erpii-module-label">SCM</div>
                                            <div class="erpii-module-name">Supply Chain</div>
                                            <div class="erpii-module-desc">End-to-end visibility from supplier to customer</div>
                                        </div>
                                        <div class="erpii-module-card">
                                            <div class="erpii-module-icon">
                                                <svg aria-hidden="true" viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/></svg>
                                            </div>
                                            <div class="erpii-module-label">PLM</div>
                                            <div class="erpii-module-name">Product Lifecycle</div>
                                            <div class="erpii-module-desc">BOM, process, and drawings integration</div>
                                        </div>
                                        <div class="erpii-module-card">
                                            <div class="erpii-module-icon">
                                                <svg aria-hidden="true" viewBox="0 0 24 24"><rect x="3" y="4" width="18" height="16" rx="2"/><path d="M3 10h18"/><path d="M8 2v4M16 2v4"/></svg>
                                            </div>
                                            <div class="erpii-module-label">APS</div>
                                            <div class="erpii-module-name">Advanced Planning</div>
                                            <div class="erpii-module-desc">Finite capacity scheduling and optimization</div>
                                        </div>
                                        <div class="erpii-module-card">
                                            <div class="erpii-module-icon">
                                                <svg aria-hidden="true" viewBox="0 0 24 24"><rect x="2" y="4" width="20" height="16" rx="2"/><path d="M6 8v8M10 8v8M14 8v8M18 8v8"/></svg>
                                            </div>
                                            <div class="erpii-module-label">MES / SFT</div>
                                            <div class="erpii-module-name"><a href="mes.html" style="color: inherit; text-decoration: underline; text-decoration-color: #0369a1; text-underline-offset: 2px;">Shop Floor</a></div>
                                            <div class="erpii-module-desc">Real-time production tracking and execution</div>
                                        </div>
                                        <div class="erpii-module-card">
                                            <div class="erpii-module-icon">
                                                <svg aria-hidden="true" viewBox="0 0 24 24"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
                                            </div>
                                            <div class="erpii-module-label">CRM</div>
                                            <div class="erpii-module-name">Customer Management</div>
                                            <div class="erpii-module-desc">Quotation to order to relationship</div>
                                        </div>
                                    </div>
                                </div>
                            </details>
                        </div>
                    </div>
                </div>
            </div>
    </div>
    `;

  return base.wrapInDiviSection('Products', html, 'Products: Content');
}

// ════════════════════════════════════════════════════════════════
// CSS
// ════════════════════════════════════════════════════════════════
function css() {
  return `
/* === PRODUCTS (S4) === */
/* TODO: Review and remap class selectors to use \${P} prefix */
/* TODO: Add section container: .\${P}-section{...;\${base.fontSmoothingReset(P)}font-size:16px} */
.products-section {
            padding: 100px 0;
            background: #F5F7FA;
            position: relative;
            -webkit-font-smoothing: auto;
            -moz-osx-font-smoothing: auto;
        }
.products-section p{padding-bottom:0}
.products-section h4{line-height:1.6}
.products-inner {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 24px;
        }
.products-header {
            text-align: center;
            margin-bottom: 64px;
        }
.products-label {
            font-family: 'JetBrains Mono', monospace;
            font-size: 11px;
            font-weight: 500;
            color: #0369a1;
            text-transform: uppercase;
            letter-spacing: 0.15em;
            margin-bottom: 16px;
            line-height: 1.6;
        }
.products-title {
            font-family: 'Noto Sans', sans-serif;
            font-size: 36px;
            font-weight: 700;
            color: #000864;
            margin: 0 0 16px 0;
            line-height: 57.6px;
        }
.products-subtitle {
            font-family: 'Noto Sans', sans-serif;
            font-size: 18px;
            color: #5b6b80;
            max-width: 550px;
            margin: 0 auto;
            line-height: 1.6;
        }
.products-comparison {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 32px;
        }
/* Product cards — from theme */
${cardCSS('product', '.product-card')}
${featureListCSS('.product-features')}
${bestForCSS('.product-best-for')}
.erp-use-case-pills {
            display: flex;
            gap: 12px;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 48px;
        }
.erp-use-case-pill {
            display: inline-block;
            padding: 10px 22px;
            background: #ffffff;
            border: 1px solid #e8eef3;
            border-radius: 8px;
            font-family: 'Noto Sans', sans-serif;
            font-size: 13px;
            font-weight: 500;
            color: #000864;
            text-decoration: none;
            transition: all 0.3s ease;
            line-height: 1.6;
        }
.erp-use-case-pill:hover,
        .erp-use-case-pill:focus {
            background: #0369a1;
            color: #ffffff;
            border-color: #0369a1;
        }
.erp-erpii-accordion {
            margin-top: 24px;
            border: 1px solid #e8eef3;
            border-radius: 12px;
            overflow: hidden;
        }
.erp-erpii-accordion summary {
            font-family: 'Noto Sans', sans-serif;
            font-size: 15px;
            font-weight: 600;
            color: #0369a1;
            padding: 16px 24px;
            cursor: pointer;
            list-style: none;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #F5F7FA;
            transition: background 0.2s ease;
        }
.erp-erpii-accordion summary::-webkit-details-marker { display: none; }
.erp-erpii-accordion summary .accordion-icon {
            font-size: 18px;
            color: #0369a1;
            transition: transform 0.2s ease;
            flex-shrink: 0;
            margin-left: 12px;
        }
.erp-erpii-accordion[open] summary .accordion-icon {
            transform: rotate(45deg);
        }
.erp-erpii-accordion .erpii-content {
            padding: 24px;
            background: #ffffff;
        }
.erp-erpii-accordion .erpii-title {
            font-family: 'Noto Sans', sans-serif;
            font-size: 20px;
            font-weight: 700;
            color: #000864;
            margin: 0 0 8px 0;
            line-height: 1.6;
        }
.erp-erpii-accordion .erpii-subtitle {
            font-family: 'Noto Sans', sans-serif;
            font-size: 14px;
            color: #5b6b80;
            line-height: 1.6;
            margin: 0 0 20px 0;
        }
.erpii-modules-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
        }
.erpii-module-card {
            background: #F5F7FA;
            border-radius: 12px;
            padding: 16px;
            text-align: center;
        }
.erpii-module-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, rgba(3, 105, 161, 0.12), rgba(3, 105, 161, 0.04));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 10px;
        
            background-image: linear-gradient(135deg, rgba(0, 175, 240, 0.12), rgba(0, 175, 240, 0.04));
}
.erpii-module-icon svg {
            width: 20px;
            height: 20px;
            stroke: #0369a1;
            stroke-width: 1.5;
            fill: none;
        }
.erpii-module-label {
            font-family: 'JetBrains Mono', monospace;
            font-size: 10px;
            font-weight: 500;
            color: #0369a1;
            text-transform: uppercase;
            letter-spacing: 0.08em;
            margin-bottom: 4px;
            line-height: 1.6;
        }
.erpii-module-name {
            font-family: 'Noto Sans', sans-serif;
            font-size: 13px;
            font-weight: 600;
            color: #000864;
            margin-bottom: 4px;
            line-height: 1.6;
        }
.erpii-module-desc {
            font-family: 'Noto Sans', sans-serif;
            font-size: 12px;
            color: #5b6b80;
            line-height: 1.4;
        }
.erp-proven-in {
            font-family: 'Noto Sans', sans-serif;
            font-size: 13px;
            font-style: italic;
            color: #5b6b80;
            margin-top: 16px;
            margin-bottom: 16px;
            padding-top: 16px;
            border-top: 1px solid #f0f4f8;
            line-height: 22.4px;
        }
.erp-trust-callout {
            margin-top: 24px;
            background: #f0f9ff;
            border: 1px solid #0369a1;
            border-radius: 12px;
            padding: 24px;
            display: flex;
            gap: 16px;
            align-items: flex-start;
        }
.erp-trust-icon {
            width: 44px;
            height: 44px;
            background: linear-gradient(135deg, rgba(3, 105, 161, 0.15), rgba(3, 105, 161, 0.05));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        
            background-image: linear-gradient(135deg, rgba(0, 175, 240, 0.15), rgba(0, 175, 240, 0.05));
}
.erp-trust-icon svg {
            width: 22px;
            height: 22px;
            stroke: #0369a1;
            stroke-width: 1.5;
            fill: none;
        }
.erp-trust-title {
            font-family: 'Noto Sans', sans-serif;
            font-size: 16px;
            font-weight: 700;
            color: #000864;
            margin: 0 0 6px 0;
            line-height: 1.6;
        }
.erp-trust-body {
            font-family: 'Noto Sans', sans-serif;
            font-size: 14px;
            color: #5b6b80;
            line-height: 1.6;
            margin: 0 0 16px 0;
        }
@media (max-width: 1024px) {
            .erp-hero-inner {
                grid-template-columns: 1fr;
                text-align: center;
            }

            .erp-hero-content {
                max-width: 100%;
            }

            .erp-hero-stats {
                justify-content: center;
            }

            .erp-hero-visual {
                display: none;
            }

            .erp-hero-bg svg {
                opacity: 0.06;
                width: 80%;
                right: -20%;
            }

            .pain-grid, .products-comparison {
                grid-template-columns: 1fr;
                max-width: 600px;
                margin-left: auto;
                margin-right: auto;
            }

            .integration-visual {
                flex-direction: column;
            }

            .integration-node {
                width: auto;
                height: auto;
            }

            .integration-arrow {
                transform: rotate(90deg);
            }

            .boi-callout-grid {
                grid-template-columns: 1fr !important;
                text-align: center;
            }

            .boi-callout-grid > div:first-child {
                text-align: center;
            }

            .erpii-modules-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .erp-trust-callout {
                flex-direction: column;
            }
        }
@media (max-width: 640px) {
            .erpii-modules-grid {
                grid-template-columns: 1fr;
            }

            .erp-use-case-pills {
                gap: 8px;
            }

            .erp-use-case-pill {
                font-size: 12px;
                padding: 8px 16px;
            }
        }
@media (prefers-reduced-motion: reduce) {
            .erp-hero-content,
            .erp-hero::before,
            .erp-hero-badge::before,
            .erp-dashboard-mockup,
            .pain-card,
            .pain-card-icon,
            .product-card,
            .weapon-card,
            .challenge-icon,
            .integration-link,
            .erp-use-case-pill,
            .erp-erpii-accordion summary,
            .boi-enforcement-cta,
            .dw-d-parallax,
            .dw-wave-flow,
            .dw-wave-fade,
            .dw-d-bg {
                animation: none !important;
                transition: none !important;
            }
        }

/* === HOVER STATES (auto-ported from styles.css) === */
.\${P}-card:hover{border-color:#0369a1;transform:translateY(-4px);box-shadow:0 12px 40px rgba(3, 105, 161, 0.12)}
.\${P}-card:hover .\${P}-card-icon{background:linear-gradient(135deg, #0369a1, #003CC8)}
.\${P}-card:hover .\${P}-card-icon svg{stroke:#fff}
.\${P}-card:hover .\${P}-card-link{gap:10px}
/* Products Hub page rules removed — this is the ERP product detail page */
/* Divi list reset — scoped to actual wrapper class */
.products-section ul,.products-section ol{list-style:none !important;padding:0 !important;margin:0 !important}
.products-section li{list-style:none !important}
.products-section li::before{display:none !important}
/* line-height: 1.6 inherited from .products-section */
\${base.reducedMotion(\`\`)}

.product-best-for-label {
            line-height: 16px;
        }

.product-best-for-text {
            color: rgb(91, 107, 128);
        }

.product-card-header {
            background-image: linear-gradient(135deg, rgb(0, 8, 100) 0%, rgb(26, 38, 50) 100%);
        }
`.trim();
}

module.exports = { blocks, css };
