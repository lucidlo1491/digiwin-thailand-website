/**
 * mes-integration.js — Integration Section (S6)
 *
 * AUTO-GENERATED by scaffold-builder.js — review and customize before pushing.
 * Source: mes.html line 1668
 *
// NOTE: Contains inline SVGs — may need Base64 JS injection if wp_kses strips elements.
 * styles.css: 30 base, 7 hover, 3 pseudo, 0 hidden
 * Original classes: integration-section, integration-inner, section-header, section-title, section-subtitle (+9 more)
 */

const base = require('../../lib/templates/_base');
const superD = require('../../lib/super-d');

const P = 'int'; // CSS prefix — customize if needed

// ════════════════════════════════════════════════════════════════
// BLOCKS
// ════════════════════════════════════════════════════════════════
function blocks() {
  const html = `
    <div class="integration-section">
    <div class="integration-inner" style="position: relative; z-index: 2;">
                <div class="section-header">
                    <h2 class="section-title">Connected to Everything</h2>
                    <p class="section-subtitle">MES is the bridge between planning and execution</p>
                </div>
    
                <div class="integration-visual">
                    <div class="integration-node">
                        <div class="integration-node-icon">
                            <svg aria-hidden="true" viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M3 9h18"/><path d="M9 21V9"/></svg>
                        </div>
                        <div class="integration-node-name">ERP</div>
                    </div>
                    <div class="integration-arrow">↔</div>
                    <div class="integration-node active">
                        <div class="integration-node-icon">
                            <svg aria-hidden="true" viewBox="0 0 24 24"><rect x="2" y="7" width="20" height="14" rx="2"/><path d="M6 7V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v2"/><line x1="6" y1="12" x2="6" y2="12"/><line x1="10" y1="12" x2="10" y2="12"/><line x1="14" y1="12" x2="14" y2="12"/><line x1="18" y1="12" x2="18" y2="12"/></svg>
                        </div>
                        <div class="integration-node-name">MES</div>
                    </div>
                    <div class="integration-arrow">↔</div>
                    <div class="integration-node">
                        <div class="integration-node-icon">
                            <svg aria-hidden="true" viewBox="0 0 24 24"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/></svg>
                        </div>
                        <div class="integration-node-name">WMS</div>
                    </div>
                    <div class="integration-arrow">↔</div>
                    <div class="integration-node">
                        <div class="integration-node-icon">
                            <svg aria-hidden="true" viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"/><path d="M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4"/></svg>
                        </div>
                        <div class="integration-node-name">AIoT</div>
                    </div>
                </div>
    
                <div class="integration-message">
                    <p>Work orders flow from ERP to MES automatically. Material consumption updates inventory in real time. Machine data from AIoT feeds OEE calculations. <strong>One integrated system. Zero manual reconciliation.</strong></p>
                </div>
    
                <div class="integration-links">
                    <a href="erp.html" class="integration-link">Explore ERP →</a>
                    <a href="wms.html" class="integration-link">Explore WMS →</a>
                    <a href="aiot.html" class="integration-link">Explore AIoT →</a>
                </div>
            </div>
    </div>
    `;

  return base.wrapInDiviSection('Integration', html, 'Integration: Content');
}

// ════════════════════════════════════════════════════════════════
// CSS
// ════════════════════════════════════════════════════════════════
function css() {
  return `
/* === INTEGRATION (S6) === */
/* Divi section padding reset */
.et_pb_section:has(.integration-section){padding:0}

/* Container — font-smoothing auto for ALL children */
.integration-section,.integration-section *{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto;line-height:1.6}
.integration-section p{margin:0;padding:0}
.integration-section{padding:80px 0;background:linear-gradient(180deg, #F5F7FA 0%, #ffffff 100%);position:relative;overflow:hidden}

/* Grid pattern pseudo-element */
.integration-section::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;background-image:linear-gradient(rgba(0, 175, 240, 0.03) 1px, transparent 1px),linear-gradient(90deg, rgba(0, 175, 240, 0.03) 1px, transparent 1px);background-size:50px 50px;pointer-events:none;z-index:0}

.integration-inner{max-width:900px;margin:0 auto;padding:0 24px;text-align:center;position:relative;z-index:1}

/* Header */
.section-header{text-align:center;margin-bottom:48px}
.section-title{font-family:'Noto Sans', sans-serif;font-size:36px;font-weight:700;color:#000864;margin-bottom:16px;line-height:1.3}
.section-subtitle{font-family:'Noto Sans', sans-serif;font-size:18px;color:#5b6b80;max-width:600px;margin:0 126px;line-height:1.6}

/* Node layout */
.integration-visual{display:flex;align-items:center;justify-content:center;gap:0;flex-wrap:wrap;margin:48px 0}
.integration-node{background:#ffffff;border:2px solid #e8eef3;border-radius:16px;padding:20px 28px;text-align:center;transition:all 0.3s ease;box-shadow:0 8px 32px rgba(0, 0, 0, 0.08)}
.integration-node:hover{border-color:#00AFF0;box-shadow:0 16px 48px rgba(0, 175, 240, 0.2)}
.integration-node.active{border-color:#00AFF0;background:linear-gradient(135deg, #f0f7ff 0%, #ffffff 100%);box-shadow:0 8px 24px rgba(0, 175, 240, 0.15)}
.integration-node-icon{width:48px;height:48px;background:linear-gradient(135deg, #00AFF0, #003CC8);border-radius:12px;display:flex;align-items:center;justify-content:center;margin:0 auto 8px}
.integration-node-icon svg{width:24px;height:24px;stroke:#ffffff;stroke-width:1.5;fill:none}
.integration-node-name{font-family:'Noto Sans', sans-serif;font-size:14px;font-weight:600;color:#000864;line-height:22.4px}
.integration-arrow{font-size:20px;color:#0369a1;padding:0 12px;line-height:32px}

/* Message card with rainbow bar */
.integration-message{background:#ffffff;border-radius:16px;padding:32px 40px;box-shadow:0 4px 24px rgba(0, 0, 0, 0.06);border:1px solid #e8eef3;max-width:700px;margin:0 auto;position:relative;overflow:hidden}
.integration-message::before{content:'';position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg, #00AFF0, #10b981, #f59e0b, #8b5cf6)}
.integration-message p{font-family:'Noto Sans', sans-serif;font-size:18px;color:#000864;line-height:1.8;margin:0}
.integration-message strong{color:#0369a1;font-weight:600;line-height:32.4px}

/* Links */
.integration-links{display:flex;gap:16px;justify-content:center;flex-wrap:wrap;margin-top:32px}
.integration-link{display:inline-flex;align-items:center;gap:8px;padding:12px 24px;background:#ffffff;border:1px solid #e8eef3;border-radius:8px;color:#0369a1;font-family:'Noto Sans', sans-serif;font-size:14px;font-weight:600;text-decoration:none;transition:all 0.3s ease;line-height:22.4px}
.integration-link:hover{border-color:#00AFF0;background:#f0f7ff}

/* Defensive SVG sizing */
svg:not([width]):not([class]){max-width:48px;max-height:48px}

/* Responsive */
@media (max-width:1024px){.integration-visual{flex-direction:column}.integration-arrow{transform:rotate(90deg);padding:8px 0}}
@media (max-width:640px){.section-title{font-size:28px}.integration-message{padding:24px 20px}}

${base.reducedMotion('')}
`.trim();
}

module.exports = { blocks, css };
