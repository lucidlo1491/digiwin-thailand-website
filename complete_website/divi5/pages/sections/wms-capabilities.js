/**
 * wms-capabilities.js — Capabilities Section (S4)
 *
 * AUTO-GENERATED by scaffold-builder.js — review and customize before pushing.
 * Source: wms.html line 1446
 *
// NOTE: Contains inline SVGs — may need Base64 JS injection if wp_kses strips elements.
 * styles.css: 13 base, 0 hover, 0 pseudo, 0 hidden
 * Original classes: wms-capabilities-section, capabilities-inner, section-header, section-title, section-subtitle (+10 more)
 */

const base = require('../../lib/templates/_base');
const superD = require('../../lib/super-d');

const P = 'cap'; // CSS prefix — customize if needed

// ════════════════════════════════════════════════════════════════
// BLOCKS
// ════════════════════════════════════════════════════════════════
function blocks() {
  const html = `
    <div class="wms-capabilities-section">
    <div class="capabilities-inner" style="position: relative; z-index: 2;">
                <div class="section-header">
                    <h2 class="section-title">sFLS: Smart Factory Logistics System</h2>
                    <p class="section-subtitle">Warehouse management designed for manufacturing</p>
                </div>
    
                <div class="capabilities-grid">
                    <div class="capability-box">
                        <div class="capability-box-header">
                            <div class="capability-box-icon">
                                <svg aria-hidden="true" viewBox="0 0 24 24"><circle cx="12" cy="10" r="3"/><path d="M12 2a8 8 0 0 0-8 8c0 5.4 7 11.5 7.3 11.8a1 1 0 0 0 1.4 0C13 21.5 20 15.4 20 10a8 8 0 0 0-8-8z"/></svg>
                            </div>
                            <div class="capability-box-titles">
                                <h3 class="capability-box-title">Location Intelligence</h3>
                                <p class="capability-box-tagline">Every item has an address</p>
                            </div>
                        </div>
                        <p class="capability-box-desc">System knows exactly where to put it and where to find it. No more searching. No more guessing.</p>
                        <ul class="capability-features">
                            <li><span class="check">&#10003;</span> Zone/aisle/shelf/bin structure</li>
                            <li><span class="check">&#10003;</span> Suggested putaway locations based on rules</li>
                            <li><span class="check">&#10003;</span> Directed picking paths for efficiency</li>
                            <li><span class="check">&#10003;</span> Visual warehouse maps</li>
                        </ul>
                    </div>
    
                    <div class="capability-box">
                        <div class="capability-box-header">
                            <div class="capability-box-icon">
                                <svg aria-hidden="true" viewBox="0 0 24 24"><rect x="5" y="2" width="14" height="20" rx="2"/><line x1="12" y1="18" x2="12" y2="18"/></svg>
                            </div>
                            <div class="capability-box-titles">
                                <h3 class="capability-box-title">Barcode/RFID Driven</h3>
                                <p class="capability-box-tagline">Scan-based accuracy</p>
                            </div>
                        </div>
                        <p class="capability-box-desc">Scan-based transactions eliminate data entry errors. Every move is recorded. Real-time accuracy.</p>
                        <ul class="capability-features">
                            <li><span class="check">&#10003;</span> Mobile device support (Android/iOS)</li>
                            <li><span class="check">&#10003;</span> RFID capability for high-volume</li>
                            <li><span class="check">&#10003;</span> Real-time inventory updates</li>
                            <li><span class="check">&#10003;</span> Error prevention with scan validation</li>
                        </ul>
                    </div>
    
                    <div class="capability-box">
                        <div class="capability-box-header">
                            <div class="capability-box-icon">
                                <svg aria-hidden="true" viewBox="0 0 24 24"><polyline points="23 4 23 10 17 10"/><polyline points="1 20 1 14 7 14"/><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/></svg>
                            </div>
                            <div class="capability-box-titles">
                                <h3 class="capability-box-title">FIFO/FEFO Automation</h3>
                                <p class="capability-box-tagline">Automatic stock rotation</p>
                            </div>
                        </div>
                        <p class="capability-box-desc">System enforces first-in-first-out or first-expired-first-out. No more expired stock hiding in the back.</p>
                        <ul class="capability-features">
                            <li><span class="check">&#10003;</span> Lot tracking with receiving dates</li>
                            <li><span class="check">&#10003;</span> Expiry date management</li>
                            <li><span class="check">&#10003;</span> Automatic pick sequencing</li>
                            <li><span class="check">&#10003;</span> Expiry alerts and reports</li>
                        </ul>
                    </div>
    
                    <div class="capability-box">
                        <div class="capability-box-header">
                            <div class="capability-box-icon">
                                <svg aria-hidden="true" viewBox="0 0 24 24"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
                            </div>
                            <div class="capability-box-titles">
                                <h3 class="capability-box-title">Wave Picking</h3>
                                <p class="capability-box-tagline">Optimized fulfillment</p>
                            </div>
                        </div>
                        <p class="capability-box-desc">Batch similar orders together. Optimize picker routes. Get more shipments out with the same team.</p>
                        <ul class="capability-features">
                            <li><span class="check">&#10003;</span> Order batching by criteria</li>
                            <li><span class="check">&#10003;</span> Route optimization algorithms</li>
                            <li><span class="check">&#10003;</span> Labor efficiency tracking</li>
                            <li><span class="check">&#10003;</span> Pick-to-cart and pick-to-pallet</li>
                        </ul>
                    </div>
                </div>
            </div>
    </div>
    `;

  return base.wrapInDiviSection('Capabilities', html, 'Capabilities: Content');
}

// ════════════════════════════════════════════════════════════════
// CSS
// ════════════════════════════════════════════════════════════════
function css() {
  return `
/* === CAPABILITIES (S4) === */
/* TODO: Review and remap class selectors to use ${P} prefix */
/* TODO: Add section container: .wms-capabilities-section{...;${base.fontSmoothingReset(P)}font-size:16px} */
.wms-capabilities-section {
            padding: 100px 0;
            background: #F5F7FA;
        }
.capabilities-inner {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 24px;
        }
.capabilities-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 32px;
        }
.capability-box {
            background: #ffffff;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 4px 24px rgba(0, 0, 0, 0.06);
            border: 1px solid #e8eef3;
            transition: all 0.3s ease;
        }
.capability-box:hover {
            border-color: #00AFF0;
            box-shadow: 0 12px 40px rgba(0, 175, 240, 0.12);
        }
.capability-box-header {
            display: flex;
            align-items: flex-start;
            gap: 20px;
            margin-bottom: 20px;
        }
.capability-box-icon {
            width: 64px;
            height: 64px;
            background: linear-gradient(135deg, #00AFF0 0%, #003CC8 100%);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
.capability-box-icon svg {
            width: 28px;
            height: 28px;
            stroke: #ffffff;
            stroke-width: 1.5;
            fill: none;
        }
.capability-box-titles {
            flex: 1;
        }
.capability-box-title {
            font-family: 'Noto Sans', sans-serif;
            font-size: 22px;
            font-weight: 600;
            color: #000864;
            margin-bottom: 4px;
        }
.capability-box-tagline {
            font-family: 'Noto Sans', sans-serif;
            font-size: 15px;
            color: #5b6b80;
        }
.capability-box-desc {
            font-family: 'Noto Sans', sans-serif;
            font-size: 16px;
            color: #000864;
            line-height: 1.7;
            margin-bottom: 20px;
        }
.capability-features {
            list-style: none;
            padding: 0;
            margin: 0;
        }
.capability-features li {
            font-family: 'Noto Sans', sans-serif;
            font-size: 15px;
            color: #000864;
            padding: 10px 0;
            border-bottom: 1px solid #f0f4f8;
            display: flex;
            align-items: flex-start;
            gap: 12px;
        }
.capability-features li:last-child {
            border-bottom: none;
        }
.capability-features .check {
            color: #22c55e;
            font-weight: bold;
            flex-shrink: 0;
            margin-top: 2px;
        }
.step-list--after li .check {
            color: #22c55e;
            font-weight: bold;
        }
@media (max-width: 1024px) {
            .problems-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            .capabilities-grid {
                grid-template-columns: 1fr;
                max-width: 600px;
                margin: 0 auto;
            }
            .mobile-modules-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            .process-stream {
                flex-direction: column;
                align-items: flex-start;
            }
            .process-stream-steps {
                width: 100%;
            }
            .transformation-table {
                display: block;
                overflow-x: auto;
            }
            .step-reduction-grid {
                grid-template-columns: 1fr;
                max-width: 500px;
                margin: 0 auto;
            }
            .integration-visual {
                flex-direction: column;
            }
            .integration-arrow {
                transform: rotate(90deg);
                padding: 8px 0;
            }
        }
@media (prefers-reduced-motion: reduce) {
            .capability-box,
            .integration-node,
            .integration-link,
            .problem-card,
            .mobile-module,
            .dw-d-bg,
            .dw-d-parallax,
            .dw-wave-flow,
            .dw-d-glow {
                animation: none !important;
                transition: none !important;
            }
        }

.section-header{text-align:center;margin-bottom:48px}
.section-title{font-family:'Noto Sans', sans-serif;font-size:36px;font-weight:700;color:#000864;margin-bottom:16px}
.section-subtitle{font-family:'Noto Sans', sans-serif;font-size:18px;color:#5b6b80;max-width:600px;margin:0 auto}
.capabilities-inner{max-width:1200px;margin:0 auto;padding:0 24px}
/* .capabilities-grid{display:grid;grid-template-columns:repeat(4, 1fr);gap:24px} */
/* @media (max-width:1024px){.capabilities-grid{grid-template-columns:repeat(2, 1fr)}} */
@media (max-width:640px){.section-title{font-size:28px}.capabilities-grid{grid-template-columns:1fr;max-width:360px;margin-left:auto;margin-right:auto}.product-detail-cta-title{font-size:28px}.product-detail-cta-buttons{flex-direction:column}.product-detail-cta-buttons .btn-white,.product-detail-cta-buttons .btn-outline-white{width:100%;text-align:center}}
${base.diviListReset(P)}
\
/* Defensive SVG sizing */
svg:not([width]):not([class]){max-width:48px;max-height:48px}
${base.reducedMotion('')}

/* Super D decoration */
${superD.css('dw-d-bg', { variant: 'outline', position: 'right', modifiers: ['glow'] })}
`.trim();
}

module.exports = { blocks, css };
