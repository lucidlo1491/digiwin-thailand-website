/**
 * electronics-challenges.js — Challenges Section (S3)
 *
 * AUTO-GENERATED by scaffold-builder.js — review and customize before pushing.
 * Source: electronics.html line 443
 *
// NOTE: Contains inline SVGs — may need Base64 JS injection if wp_kses strips elements.
 * styles.css: 18 base, 2 hover, 0 pseudo, 0 hidden
 * Original classes: challenges-section, fade-in, dw-wave-vertical--right, challenges-inner, challenges-header (+3 more)
 */

const base = require('../../lib/templates/_base');

const P = 'cha'; // CSS prefix — customize if needed

// ════════════════════════════════════════════════════════════════
// BLOCKS
// ════════════════════════════════════════════════════════════════
function blocks() {
  const html = `
    <div class="challenges-section">
    <div class="dw-wave-vertical--right" style="opacity: 0.06;"></div>
            <div class="challenges-inner" style="position: relative; z-index: 2;">
                <div class="challenges-header">
                    <h2>The Electronics Manufacturing Challenge</h2>
                    <p>Complexity that generic systems can't handle</p>
                </div>
                <div class="challenges-grid">
                    <div class="challenge-card">
                        <div class="challenge-icon">
                            <svg aria-hidden="true" viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>
                        </div>
                        <h3>Component Chaos</h3>
                        <p>Hundreds of unique parts per product. Thousands of reels in inventory. One wrong component placed = entire batch scrap.</p>
                    </div>
                    <div class="challenge-card">
                        <div class="challenge-icon">
                            <svg aria-hidden="true" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                        </div>
                        <h3>Fast Changeovers</h3>
                        <p>High-mix, low-volume means constant changeovers. Every minute of setup time is lost production capacity you can't recover.</p>
                    </div>
                    <div class="challenge-card">
                        <div class="challenge-icon">
                            <svg aria-hidden="true" viewBox="0 0 24 24"><path d="M12 2v6l3-3"/><path d="M12 8l-3-3"/><path d="M12 22v-6l3 3"/><path d="M12 16l-3 3"/><path d="M2 12h6l-3 3"/><path d="M8 12l-3-3"/><path d="M22 12h-6l3 3"/><path d="M16 12l3-3"/></svg>
                        </div>
                        <h3>Moisture Sensitivity</h3>
                        <p>MSD components that expire after floor exposure. Track it or scrap it. Manual tracking simply can't keep up with the pace.</p>
                    </div>
                </div>
            </div>
    </div>
    `;

  return base.wrapInDiviSection('Challenges', html, 'Challenges: Content');
}

// ════════════════════════════════════════════════════════════════
// CSS
// ════════════════════════════════════════════════════════════════
function css() {
  return `
/* === CHALLENGES (S3) === */
/* TODO: Review and remap class selectors to use ${P} prefix */
/* TODO: Add section container: .challenges-section{...;${base.fontSmoothingReset(P)}font-size:16px} */


/* TODO: HOVER STATES using global classes (port manually) */
/* .stake-card:hover .stake-icon, .challenge-card:hover .challenge-icon{background:linear-gradient(135deg, #00AFF0, #003CC8)} */
/* .stake-card:hover .stake-icon svg, .challenge-card:hover .challenge-icon svg{stroke:#fff} */
.fade-in{opacity:1;transform:none}
.fade-in.visible{opacity:1;transform:translateY(0)}
.fade-in.no-delay{opacity:1;transform:none;transition:none}
@media (prefers-reduced-motion:reduce){.fade-in{opacity:1;transform:none;transition:none}}
.stakes-section, .challenges-section{padding:100px 0;background:#F5F7FA}
.stakes-inner, .challenges-inner{max-width:1100px;margin:0 auto;padding:0 24px}
.stakes-header, .challenges-header{text-align:center;margin-bottom:60px}
.stakes-header h2, .challenges-header h2{font-family:'Noto Sans', sans-serif;font-size:36px;color:#000864;margin-bottom:16px}
.stakes-header p, .challenges-header p{font-size:18px;color:#5b6b80}
.challenges-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:32px}
.challenge-card{background:linear-gradient(145deg,#fef2f2 0%,#fee2e2 100%);border:1px solid #fecaca;border-radius:20px;padding:40px 32px;text-align:center}
.challenge-icon{width:72px;height:72px;background:linear-gradient(135deg,#fee2e2,#fecaca);border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 24px;transition:all 0.4s ease}
.challenge-icon svg{width:32px;height:32px;stroke:#b91c1c;stroke-width:1.5;fill:none}
.challenge-card h3{font-family:'Noto Sans',sans-serif;font-size:22px;color:#991b1b;margin-bottom:16px}
.challenge-card p{font-size:15px;color:#b91c1c;line-height:1.7}
.challenge-card:hover .challenge-icon{background:linear-gradient(135deg,#00AFF0,#003CC8)}
.challenge-card:hover .challenge-icon svg{stroke:#fff}
/* Divi overrides */
.et_pb_section .challenges-header h2{font-weight:700 !important;line-height:1.6 !important}
.et_pb_section .challenge-card h3{line-height:35.2px !important}
.et_pb_section .challenge-card p{line-height:25.5px !important;padding-bottom:0 !important}
@media(max-width:1024px){.challenges-grid{grid-template-columns:1fr}}
@media(max-width:640px){.challenge-card{padding:32px 24px}}

\
/* Defensive SVG sizing */
svg:not([width]):not([class]){max-width:48px;max-height:48px}
${base.reducedMotion('')}
`.trim();
}

module.exports = { blocks, css };
