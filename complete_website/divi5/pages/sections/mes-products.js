/**
 * mes-products.js — Products Section (S4)
 *
 * AUTO-GENERATED by scaffold-builder.js — review and customize before pushing.
 * Source: mes.html line 1402
 *
// NOTE: Contains inline SVGs — may need Base64 JS injection if wp_kses strips elements.
 * styles.css: 21 base, 0 hover, 3 pseudo, 0 hidden
 * Original classes: products-section, products-inner, section-header, section-title, section-subtitle (+32 more)
 */

const base = require('../../lib/templates/_base');
const superD = require('../../lib/super-d');

const P = 'pro'; // CSS prefix — customize if needed

// ════════════════════════════════════════════════════════════════
// BLOCKS
// ════════════════════════════════════════════════════════════════
function blocks() {
  const html = `
    <div class="products-section">
    <div class="products-inner">
                <div class="section-header">
                    <h2 class="section-title">Three Paths to Shop Floor Visibility</h2>
                    <p class="section-subtitle">Choose the level that matches your needs and budget. Start anywhere — upgrade anytime.</p>
                </div>
    
                <div class="products-grid">
                    
                    <div class="product-box">
                        <div class="product-box-header">
                            <span class="product-box-badge full">Full MES</span>
                            <h3 class="product-box-title">MES</h3>
                            <p class="product-box-tagline">Complete manufacturing execution with routing enforcement</p>
                        </div>
                        <div class="product-box-content">
                            <p class="product-box-desc">Full MES capability including work order management, routing enforcement, quality data collection, and real-time performance dashboards.</p>
                            <ul class="product-features">
                                <li><span class="check">✓</span> Work order dispatch and real-time tracking</li>
                                <li><span class="check">✓</span> Routing enforcement with operation validation</li>
                                <li><span class="check">✓</span> Quality data collection with SPC integration</li>
                                <li><span class="check">✓</span> Real-time OEE calculation per machine/line</li>
                                <li><span class="check">✓</span> Full lot and serial traceability</li>
                                <li><span class="check">✓</span> Mobile workstation interface</li>
                            </ul>
                            <div class="product-best-for">
                                <div class="product-best-for-label">Best For</div>
                                <div class="product-best-for-text">Complex manufacturing with multiple operations, automotive/electronics with traceability requirements, factories with government grants or existing ERP</div>
                            </div>
                        </div>
                    </div>
    
                    
                    <div class="product-box">
                        <div class="product-box-header">
                            <span class="product-box-badge light">Mid-Tier</span>
                            <h3 class="product-box-title">SFT</h3>
                            <p class="product-box-tagline">Shop floor tracking without MES complexity</p>
                        </div>
                        <div class="product-box-content">
                            <p class="product-box-desc">Lightweight tracking for factories that want visibility without full MES complexity. Barcode-based, fast to implement, easy to use.</p>
                            <ul class="product-features">
                                <li><span class="check">✓</span> Production quantity reporting</li>
                                <li><span class="check">✓</span> Labor time tracking by operation</li>
                                <li><span class="check">✓</span> Downtime reason recording</li>
                                <li><span class="check">✓</span> Basic lot traceability</li>
                                <li><span class="check">✓</span> Simple barcode scanning interface</li>
                                <li><span class="check">✓</span> Rapid deployment (days, not months)</li>
                            </ul>
                            <div class="product-best-for">
                                <div class="product-best-for-label">Best For</div>
                                <div class="product-best-for-text">Factories already using SCADA, fast-growing companies, rapid visibility improvement without disruption</div>
                            </div>
                        </div>
                    </div>
    
                    
                    <div class="product-box">
                        <div class="product-box-header">
                            <span class="product-box-badge entry">Entry Level</span>
                            <h3 class="product-box-title">AIoT Cloud</h3>
                            <p class="product-box-tagline">Production visibility on a subscription</p>
                        </div>
                        <div class="product-box-content">
                            <p class="product-box-desc">Cloud-based production monitoring with mobile apps. See equipment data and production status with minimal IT infrastructure.</p>
                            <ul class="product-features">
                                <li><span class="check">✓</span> Real-time equipment monitoring</li>
                                <li><span class="check">✓</span> Production status dashboard</li>
                                <li><span class="check">✓</span> Mobile app access</li>
                                <li><span class="check">✓</span> Subscription pricing (no upfront)</li>
                                <li><span class="check">✓</span> Cloud deployment (no servers)</li>
                            </ul>
                            <div class="product-best-for">
                                <div class="product-best-for-label">Best For</div>
                                <div class="product-best-for-text">Low initial investment, simple equipment monitoring, factories testing digitalization before committing</div>
                            </div>
                        </div>
                    </div>
                </div>
    
                
                <div class="selection-guide">
                    <div class="selection-guide-item">
                        <div class="selection-guide-arrow">&#9650;</div>
                        <div class="selection-guide-product">AIoT Cloud</div>
                        <div class="selection-guide-desc">Starting your digitalization journey. Small factories, quick start, subscription pricing.</div>
                    </div>
                    <div class="selection-guide-item">
                        <div class="selection-guide-arrow">&#9650;&#9650;</div>
                        <div class="selection-guide-product">SFT</div>
                        <div class="selection-guide-desc">Need production transparency. Mid-size operations, structured tracking, fast deployment.</div>
                    </div>
                    <div class="selection-guide-item">
                        <div class="selection-guide-arrow">&#9650;&#9650;&#9650;</div>
                        <div class="selection-guide-product">MES</div>
                        <div class="selection-guide-desc">Full manufacturing execution. Complex operations, multi-plant, complete traceability.</div>
                    </div>
                </div>
    
                
                <div class="erp-compat-callout">
                    <div class="erp-compat-icon">
                        <svg aria-hidden="true" viewBox="0 0 24 24"><path d="M12 2v6m0 8v6M4.93 4.93l4.24 4.24m5.66 5.66l4.24 4.24M2 12h6m8 0h6M4.93 19.07l4.24-4.24m5.66-5.66l4.24-4.24"/></svg>
                    </div>
                    <div class="erp-compat-content">
                        <h3>Already Have an ERP?</h3>
                        <p>MES connects to any ERP system through standard web services. See your shop floor clearly without changing your existing ERP. When you're ready to upgrade, we're here.</p>
                    </div>
                </div>
    
                
                <div class="workflow-strip">
                    <h3 class="workflow-strip-title">A Day on the MES-Connected Shop Floor</h3>
                    <div class="workflow-steps">
                        <div class="workflow-step">
                            <div class="workflow-step-circle">1</div>
                            <div class="workflow-step-label">Clock In</div>
                        </div>
                        <div class="workflow-connector"></div>
                        <div class="workflow-step">
                            <div class="workflow-step-circle">2</div>
                            <div class="workflow-step-label">Material Check</div>
                        </div>
                        <div class="workflow-connector"></div>
                        <div class="workflow-step">
                            <div class="workflow-step-circle">3</div>
                            <div class="workflow-step-label">First QC</div>
                        </div>
                        <div class="workflow-connector"></div>
                        <div class="workflow-step">
                            <div class="workflow-step-circle">4</div>
                            <div class="workflow-step-label">Start Machine</div>
                        </div>
                        <div class="workflow-connector"></div>
                        <div class="workflow-step">
                            <div class="workflow-step-circle">5</div>
                            <div class="workflow-step-label">Log Production</div>
                        </div>
                        <div class="workflow-connector"></div>
                        <div class="workflow-step">
                            <div class="workflow-step-circle">6</div>
                            <div class="workflow-step-label">Mid-Shift QC</div>
                        </div>
                        <div class="workflow-connector"></div>
                        <div class="workflow-step">
                            <div class="workflow-step-circle">7</div>
                            <div class="workflow-step-label">Material Request</div>
                        </div>
                        <div class="workflow-connector"></div>
                        <div class="workflow-step">
                            <div class="workflow-step-circle">8</div>
                            <div class="workflow-step-label">End Count</div>
                        </div>
                        <div class="workflow-connector"></div>
                        <div class="workflow-step">
                            <div class="workflow-step-circle">9</div>
                            <div class="workflow-step-label">Clock Out</div>
                        </div>
                    </div>
                    <p class="workflow-caption">"Every step captured. Every scan recorded. Every minute accounted for."</p>
                </div>
            </div>
    </div>
    `;

  return base.wrapInDiviSection('Products', html, 'Products: Content');
}

// ════════════════════════════════════════════════════════════════
// CSS
// ════════════════════════════════════════════════════════════════
function css() {
  return `
/* === PRODUCTS (S4) === */
/* TODO: Review and remap class selectors to use ${P} prefix */
/* TODO: Add section container: .products-section{...;${base.fontSmoothingReset(P)}font-size:16px} */
.products-section {
            padding: 80px 0;
            background: #F5F7FA;
        }
.products-inner {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 24px;
        }
.products-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 24px;
        }
.product-box {
            background: #ffffff;
            border-radius: 20px;
            border: 2px solid #e8eef3;
            overflow: hidden;
            transition: all 0.3s ease;
        }
.product-box:hover {
            border-color: #00AFF0;
            box-shadow: 0 12px 40px rgba(0, 175, 240, 0.12);
        }
.product-box-header {
            padding: 32px 32px 24px;
            background: linear-gradient(135deg, #000864 0%, #1a2d3d 100%);
            border-bottom: none;
            position: relative;
        }
.product-box-header::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #00AFF0, #7ec8f2);
        }
.product-box-title {
            color: #ffffff;
            font-family: 'Noto Sans', sans-serif;
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 8px;
        }
.product-box-tagline {
            color: rgba(255, 255, 255, 0.75);
            font-family: 'Noto Sans', sans-serif;
            font-size: 15px;
        }
.product-box-badge {
            display: inline-block;
            background: #00AFF0;
            color: #ffffff;
            font-family: 'Noto Sans', sans-serif;
            font-size: 12px;
            font-weight: 600;
            padding: 4px 12px;
            border-radius: 50px;
            margin-bottom: 16px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
.product-box-badge.full {
            background: linear-gradient(135deg, #000864, #3d5a73);
        }
.product-box-badge.light {
            background: linear-gradient(135deg, #00AFF0, #003CC8);
        }
.product-box-badge.entry {
            background: linear-gradient(135deg, #00E6FF, #00AFF0);
        }
.product-box-content {
            padding: 28px;
        }
.product-box-desc {
            font-family: 'Noto Sans', sans-serif;
            font-size: 15px;
            color: #000864;
            line-height: 1.7;
            margin-bottom: 20px;
        }
.product-features {
            list-style: none;
            padding: 0;
            margin: 0 0 20px 0;
        }
.product-features li {
            font-family: 'Noto Sans', sans-serif;
            font-size: 14px;
            color: #000864;
            padding: 8px 0;
            border-bottom: 1px solid #f0f4f8;
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }
.product-features li:last-child {
            border-bottom: none;
        }
.product-features .check {
            color: #22c55e;
            font-weight: bold;
            flex-shrink: 0;
            margin-top: 2px;
        }
.product-best-for {
            background: #f8fafc;
            border-radius: 12px;
            padding: 16px 20px;
            margin-top: 20px;
        }
.product-best-for-label {
            font-family: 'Noto Sans', sans-serif;
            font-size: 13px;
            font-weight: 600;
            color: #0369a1;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
        }
.product-best-for-text {
            font-family: 'Noto Sans', sans-serif;
            font-size: 14px;
            color: #5b6b80;
            line-height: 1.5;
        }
.selection-guide {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 24px;
            margin-top: 48px;
            padding-top: 48px;
            border-top: 1px solid #e2e8f0;
        }
.selection-guide-item {
            text-align: center;
            padding: 24px 20px;
            background: #ffffff;
            border-radius: 16px;
            border: 1px solid #e8eef3;
        }
.selection-guide-arrow {
            font-size: 28px;
            margin-bottom: 8px;
        }
.selection-guide-product {
            font-family: 'Noto Sans', sans-serif;
            font-size: 18px;
            font-weight: 700;
            color: #000864;
            margin-bottom: 8px;
        }
.selection-guide-desc {
            font-family: 'Noto Sans', sans-serif;
            font-size: 14px;
            color: #5b6b80;
            line-height: 1.5;
        }
.erp-compat-callout {
            background: #f0f9ff;
            border: 1px solid #00AFF0;
            border-radius: 12px;
            padding: 32px;
            margin-top: 48px;
            display: flex;
            gap: 24px;
            align-items: flex-start;
        }
.erp-compat-icon {
            flex-shrink: 0;
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, rgba(0, 175, 240, 0.15), rgba(0, 175, 240, 0.05));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
.erp-compat-icon svg {
            width: 24px;
            height: 24px;
            stroke: #00AFF0;
            stroke-width: 1.5;
            fill: none;
        }
.erp-compat-content h3 {
            font-family: 'Noto Sans', sans-serif;
            font-size: 20px;
            font-weight: 700;
            color: #000864;
            margin: 0 0 8px 0;
        }
.erp-compat-content p {
            font-family: 'Noto Sans', sans-serif;
            font-size: 16px;
            color: #5b6b80;
            line-height: 1.7;
            margin: 0;
        }
.workflow-strip {
            margin-top: 48px;
            padding-top: 48px;
            border-top: 1px solid #e2e8f0;
        }
.workflow-strip-title {
            font-family: 'Noto Sans', sans-serif;
            font-size: 20px;
            font-weight: 700;
            color: #000864;
            text-align: center;
            margin-bottom: 32px;
        }
.workflow-steps {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0;
            overflow-x: auto;
            padding-bottom: 16px;
            -webkit-overflow-scrolling: touch;
        }
.workflow-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            flex-shrink: 0;
            min-width: 100px;
        }
.workflow-step-circle {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            background: #00AFF0;
            color: #ffffff;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Noto Sans', sans-serif;
            font-size: 14px;
            font-weight: 700;
            margin-bottom: 8px;
        }
.workflow-step-label {
            font-family: 'Noto Sans', sans-serif;
            font-size: 12px;
            font-weight: 600;
            color: #000864;
            text-align: center;
            white-space: nowrap;
        }
.workflow-connector {
            width: 24px;
            height: 2px;
            background: #00AFF0;
            flex-shrink: 0;
            margin-bottom: 24px;
        }
.workflow-caption {
            font-family: 'Noto Sans', sans-serif;
            font-size: 15px;
            font-style: italic;
            color: #5b6b80;
            text-align: center;
            margin-top: 16px;
        }
@media (max-width: 1024px) {
            .beforeafter-grid {
                grid-template-columns: 1fr;
                max-width: 500px;
                margin: 0 auto;
            }
            .beforeafter-arrow {
                transform: rotate(90deg);
                padding: 16px 0;
            }
            .products-grid {
                grid-template-columns: 1fr;
                max-width: 600px;
                margin: 0 auto;
            }
            .selection-guide {
                grid-template-columns: 1fr;
                max-width: 400px;
                margin: 48px auto 0;
            }
            .erp-compat-callout {
                flex-direction: column;
                align-items: center;
                text-align: center;
            }
            .integration-visual {
                flex-direction: column;
            }
            .integration-arrow {
                transform: rotate(90deg);
                padding: 8px 0;
            }
            .results-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            .reports-grid {
                grid-template-columns: 1fr;
                max-width: 500px;
                margin: 0 auto;
            }
        }
@media (prefers-reduced-motion: reduce) {
            .product-box,
            .integration-node,
            .integration-link,
            .dw-d-bg,
            .dw-d-parallax,
            .dw-wave-flow,
            .dw-d-glow {
                animation: none !important;
                transition: none !important;
            }
        }

/* TODO: PSEUDO-ELEMENTS using global classes (port manually) */
/* .products-grid-section::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg, transparent, #00AFF0, transparent)} */
/* .products-section-label::before,.products-section-label::after{content:'';width:40px;height:1px;background:linear-gradient(90deg, transparent, #00AFF0)} */
/* .products-section-label::after{background:linear-gradient(90deg, #00AFF0, transparent)} */
/* Divi section padding reset */
.et_pb_section:has(.products-section){padding:0}
/* Divi overrides */
.products-section,.products-section *{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto;line-height:1.6}
.products-section p{padding:0}
.products-section h2,.products-section h3{padding:0}
.section-title{margin:0 0 16px 0;line-height:1.6}
.section-subtitle{margin:0 auto;line-height:1.6}
.product-box-title{line-height:44.8px;margin:0 0 8px 0}
.product-box-tagline{margin:0}
.product-box-desc{margin:0 0 20px 0;line-height:25.5px}
.product-box-badge{line-height:19.2px}
.product-best-for-label{line-height:20.8px}
.product-best-for-text{line-height:21px}
.product-features li{line-height:22.4px}
.check{line-height:22.4px}
.selection-guide-arrow{line-height:1.6}
.selection-guide-product{line-height:28.8px}
.selection-guide-desc{line-height:21px}
.workflow-step-circle{line-height:22.4px}
.workflow-step-label{line-height:19.2px}
.workflow-strip-title{line-height:32px;margin:0 0 32px 0}
.erp-compat-content h3{line-height:32px;margin:0 0 8px 0}
.erp-compat-content p{margin:0}
.workflow-caption{margin:16px 0 0 0}
/* .products-grid{display:grid;grid-template-columns:repeat(3, 1fr);gap:24px} */
/* @media (max-width:1024px){.auto-hero h1, .elec-hero h1, .metal-hero h1{font-size:40px}.auto-hero-stats, .elec-hero-stats, .metal-hero-stats{gap:40px}.stakes-grid, .challenges-grid{grid-template-columns:1fr}.solutions-grid{grid-template-columns:1fr}.products-grid{grid-template-columns:1fr}} */
/* .products-grid-section{padding:120px 0;background:linear-gradient(180deg, #f8fafc 0%, #ffffff 30%, #ffffff 70%, #f8fafc 100%);position:relative;overflow:hidden} */
/* .products-grid-section .grid-pattern{position:absolute;top:0;left:0;right:0;bottom:0;background-image:radial-gradient(circle, rgba(0, 175, 240, 0.03) 1px, transparent 1px);background-size:30px 30px;pointer-events:none} */
/* .products-section-header{max-width:700px;margin:0 auto 80px;text-align:center;position:relative;z-index:1} */
/* .products-section-label{font-family:'JetBrains Mono', monospace;font-size:11px;font-weight:500;color:#00AFF0;text-transform:uppercase;letter-spacing:0.15em;margin-bottom:16px;display:flex;align-items:center;justify-content:center;gap:12px} */
/* .products-section-title{font-family:'Noto Sans', sans-serif;font-size:44px;font-weight:700;color:#000864;margin:0 0 16px 0;letter-spacing:-0.02em} */
/* .products-section-subtitle{font-family:'Noto Sans', sans-serif;font-size:18px;color:#5b6b80;line-height:1.6} */
/* .pp-card-features .check{width:22px;height:22px;border-radius:6px;display:flex;align-items:center;justify-content:center;flex-shrink:0} */
/* .pp-card-features .check svg{width:12px;height:12px;stroke:#ffffff;stroke-width:3;fill:none} */
/* .pp-card--erp .pp-card-features .check{background:linear-gradient(135deg, #00AFF0, #003CC8)} */
/* .pp-card--mes .pp-card-features .check{background:linear-gradient(135deg, #10b981, #02D28C)} */
/* .pp-card--wms .pp-card-features .check{background:linear-gradient(135deg, #f59e0b, #d97706)} */
/* .pp-card--aiot .pp-card-features .check{background:linear-gradient(135deg, #8b5cf6, #7c3aed)} */
/* @media (max-width:640px){.products-hero{padding:120px 0 60px;min-height:auto}.products-hero h1{font-size:28px}.products-hero-stats{flex-direction:column;gap:20px;align-items:center}.products-hero-stat{text-align:center}.products-section-title,.integration-title,.why-title{font-size:32px}.pp-card{padding:32px}.pp-card-header{flex-direction:column;gap:16px}.pp-card-features{grid-template-columns:1fr}.integration-orbit{width:280px;height:280px}.integration-hub{width:100px;height:100px}.integration-hub-icon{width:36px;height:36px}.integration-node{width:75px;height:75px;border-radius:16px}.integration-node-icon{width:36px;height:36px;margin-bottom:6px}.integration-node-name{font-size:11px}.integration-node--erp{top:-25px}.integration-node--wms{bottom:-25px}.integration-node--mes{right:-25px}.integration-node--aiot{left:-25px}.integration-diagram{min-height:400px;padding:60px 0}.integration-message{padding:32px 24px}.products-cta-title{font-size:28px}.products-cta-buttons{flex-direction:column}.btn-white, .btn-outline-white{width:100%;text-align:center;justify-content:center}} */
.section-header{text-align:center;margin-bottom:48px}
.section-title{font-family:'Noto Sans', sans-serif;font-size:36px;font-weight:700;color:#000864;margin-bottom:16px}
.section-subtitle{font-family:'Noto Sans', sans-serif;font-size:18px;color:#5b6b80;max-width:600px;margin:0 auto}
@media (max-width:640px){.section-title{font-size:28px}.capabilities-grid{grid-template-columns:1fr;max-width:360px;margin-left:auto;margin-right:auto}.product-detail-cta-title{font-size:28px}.product-detail-cta-buttons{flex-direction:column}.product-detail-cta-buttons .btn-white,.product-detail-cta-buttons .btn-outline-white{width:100%;text-align:center}}
${base.diviListReset(P)}
\
/* Defensive SVG sizing */
svg:not([width]):not([class]){max-width:48px;max-height:48px}
${base.reducedMotion('')}

/* Super D decoration */
${superD.css('dw-d-bg', { variant: 'outline', position: 'right', modifiers: ['glow'] })}
`.trim();
}

module.exports = { blocks, css };
