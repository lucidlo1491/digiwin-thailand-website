/**
 * wms-transformation.js — Transformation Section (S7)
 *
 * AUTO-GENERATED by scaffold-builder.js — review and customize before pushing.
 * Source: wms.html line 1699
 *
 * styles.css: 25 base, 0 hover, 0 pseudo, 0 hidden
 * Original classes: transformation-section, dw-d-bg, dw-d-bg--corner-br, dw-d-bg--subtle, transformation-inner (+27 more)
 */

const base = require('../../lib/templates/_base');
const superD = require('../../lib/super-d');

const P = 'tra'; // CSS prefix — customize if needed

// ════════════════════════════════════════════════════════════════
// BLOCKS
// ════════════════════════════════════════════════════════════════
function blocks() {
  const html = `
    <div class="transformation-section">
    <div class="dw-d-bg dw-d-bg--corner-br dw-d-bg--subtle"></div>
            <div class="transformation-inner" style="position: relative; z-index: 2;">
                <div class="section-header">
                    <h2 class="section-title">What Changes When sFLS Goes Live</h2>
                    <p class="section-subtitle">Process by process, the transformation is measurable.</p>
                </div>
    
                
                <table class="transformation-table">
                    <caption class="sr-only">Before and after comparison of warehouse processes with sFLS implementation</caption>
                    <thead>
                        <tr>
                            <th scope="col">Process</th>
                            <th scope="col">Before (Manual)</th>
                            <th scope="col">After (sFLS)</th>
                            <th scope="col">Impact</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="col-process">Purchase Receipt</td>
                            <td class="col-before">Manually key in each order — over 8 minutes per receipt</td>
                            <td class="col-after">Scan code &rarr; real-time ERP update &rarr; EKanBan instant push</td>
                            <td class="col-improvement">7 &rarr; 3 steps</td>
                        </tr>
                        <tr>
                            <td class="col-process">Material Picking</td>
                            <td class="col-before">Manual selection — wrong parts, high loss rate</td>
                            <td class="col-after">Auto-generated pick docs by work order — zero errors via scan</td>
                            <td class="col-improvement">Near-zero errors</td>
                        </tr>
                        <tr>
                            <td class="col-process">Stock In</td>
                            <td class="col-before">Manual warehousing — over 10 minutes, labor-intensive</td>
                            <td class="col-after">Directed putaway — significantly reduced operating time</td>
                            <td class="col-improvement">Major time savings</td>
                        </tr>
                        <tr>
                            <td class="col-process">Stock Out</td>
                            <td class="col-before">Long shipment prep — affects on-time delivery</td>
                            <td class="col-after">Optimized picks &rarr; shorter shipment time &rarr; better OTD rate</td>
                            <td class="col-improvement">Better OTD</td>
                        </tr>
                        <tr>
                            <td class="col-process">Inventory Count</td>
                            <td class="col-before">Team works overtime, manual ID is error-prone</td>
                            <td class="col-after">Full count in hours, error rate nearly zero</td>
                            <td class="col-improvement">5 &rarr; 3 steps</td>
                        </tr>
                    </tbody>
                </table>
    
                
                <div class="step-reduction-grid">
                    
                    <div class="step-reduction-card">
                        <div class="step-reduction-header">
                            <div class="step-reduction-title">Receiving Process</div>
                            <div class="step-reduction-numbers">
                                <span class="step-number step-number--before">7</span>
                                <span class="step-number-arrow" aria-hidden="true">&rarr;</span>
                                <span class="step-number step-number--after">3</span>
                            </div>
                        </div>
                        <div class="step-reduction-columns">
                            <div>
                                <div class="step-col-label step-col-label--before">Before</div>
                                <ol class="step-list step-list--before">
                                    <li>PO check</li>
                                    <li>Print out</li>
                                    <li>Unloading area</li>
                                    <li>Counting</li>
                                    <li>Recording</li>
                                    <li>Key-in data</li>
                                    <li>Create delivery note</li>
                                </ol>
                            </div>
                            <div>
                                <div class="step-col-label step-col-label--after">After</div>
                                <ol class="step-list step-list--after">
                                    <li><span class="check">&#10003;</span> PO check by app</li>
                                    <li><span class="check">&#10003;</span> Counting</li>
                                    <li><span class="check">&#10003;</span> Record by app <em>(delivery note auto-created)</em></li>
                                </ol>
                            </div>
                        </div>
                    </div>
    
                    
                    <div class="step-reduction-card">
                        <div class="step-reduction-header">
                            <div class="step-reduction-title">Inventory Process</div>
                            <div class="step-reduction-numbers">
                                <span class="step-number step-number--before">5</span>
                                <span class="step-number-arrow" aria-hidden="true">&rarr;</span>
                                <span class="step-number step-number--after">3</span>
                            </div>
                        </div>
                        <div class="step-reduction-columns">
                            <div>
                                <div class="step-col-label step-col-label--before">Before</div>
                                <ol class="step-list step-list--before">
                                    <li>Inventory plan</li>
                                    <li>Print paper count cards</li>
                                    <li>Physical count</li>
                                    <li>Record quantity</li>
                                    <li>Accounting adjustment</li>
                                </ol>
                            </div>
                            <div>
                                <div class="step-col-label step-col-label--after">After</div>
                                <ol class="step-list step-list--after">
                                    <li><span class="check">&#10003;</span> Inventory plan</li>
                                    <li><span class="check">&#10003;</span> Intelligent logistics inventory</li>
                                    <li><span class="check">&#10003;</span> Accounting adjustment</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>
    
                <p class="transformation-source">Based on DigiWin WMS implementations across manufacturing and distribution operations</p>
            </div>
    </div>
    `;

  return base.wrapInDiviSection('Transformation', html, 'Transformation: Content');
}

// ════════════════════════════════════════════════════════════════
// CSS
// ════════════════════════════════════════════════════════════════
function css() {
  return `
/* === TRANSFORMATION (S7) === */
/* TODO: Review and remap class selectors to use ${P} prefix */
/* TODO: Add section container: .transformation-section{...;${base.fontSmoothingReset(P)}font-size:16px} */
.capability-features .check {
            color: #22c55e;
            font-weight: bold;
            flex-shrink: 0;
            margin-top: 2px;
        
            -webkit-font-smoothing: auto !important;

            -webkit-font-smoothing: auto !important;}
.transformation-section {
            padding: 100px 0;
            background: #ffffff;
        }
.transformation-inner {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 24px;
        }
.transformation-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 24px rgba(0, 0, 0, 0.06);
            margin-bottom: 48px;
        }
.transformation-table thead th {
            font-family: 'Noto Sans', sans-serif;
            font-size: 14px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            padding: 16px 20px;
            text-align: left;
            background: #000864;
            color: #ffffff;
        }
.transformation-table thead th:first-child {
            border-radius: 12px 0 0 0;
        }
.transformation-table thead th:last-child {
            border-radius: 0 12px 0 0;
        }
.transformation-table tbody td {
            font-family: 'Noto Sans', sans-serif;
            font-size: 14px;
            line-height: 1.6;
            padding: 16px 20px;
            border-bottom: 1px solid #e8eef3;
            vertical-align: top;
        }
.transformation-table tbody tr:last-child td {
            border-bottom: none;
        }
.transformation-table .col-process {
            font-weight: 600;
            color: #000864;
            background: #ffffff;
            width: 16%;
        }
.transformation-table .col-before {
            background: #FEF2F2;
            color: #991B1B;
            width: 34%;
        }
.transformation-table .col-after {
            background: #F0FDF4;
            color: #166534;
            width: 34%;
        }
.transformation-table .col-improvement {
            background: #EFF6FF;
            color: #000864;
            font-weight: 600;
            width: 16%;
            text-align: center;
        }
.step-reduction-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 32px;
        }
.step-reduction-card {
            background: #F5F7FA;
            border-radius: 16px;
            padding: 32px;
        }
.step-reduction-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 24px;
        }
.step-reduction-title {
            font-family: 'Noto Sans', sans-serif;
            font-size: 16px;
            font-weight: 600;
            color: #000864;
        
            line-height: 25.6px !important;

            -webkit-font-smoothing: auto !important;
}
.step-reduction-numbers {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-left: auto;
        }
.step-number {
            font-family: 'Noto Sans', sans-serif;
            font-size: 48px;
            font-weight: 700;
            line-height: 1;
        
            -webkit-font-smoothing: auto !important;
}
.step-number--before {
            color: #DC2626;
            text-decoration: line-through;
            opacity: 0.5;
        }
.step-number--after {
            color: #00AFF0;
        }
.step-number-arrow {
            font-size: 24px;
            color: #5b6b80;
        }
.step-reduction-columns {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
        }
.step-col-label {
            font-family: 'JetBrains Mono', monospace;
            font-size: 11px;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: 12px;
            font-weight: 500;
        
            line-height: 17.6px !important;

            -webkit-font-smoothing: auto !important;

            line-height: 17.6px !important;
            -webkit-font-smoothing: auto !important;}
.step-col-label--before { color: #DC2626; }
.step-col-label--after { color: #00AFF0; }
.step-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
.step-list li {
            font-family: 'Noto Sans', sans-serif;
            font-size: 14px;
            padding: 6px 0;
            display: flex;
            align-items: center;
            gap: 8px;
        }
.step-list--before li {
            color: #9CA3AF;
            text-decoration: line-through;
        }
.step-list--after li {
            color: #000864;
            font-weight: 500;
        }
.step-list--after li .check {
            color: #22c55e;
            font-weight: bold;
        
            -webkit-font-smoothing: auto !important;
}
.transformation-source {
            text-align: center;
            margin-top: 24px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 11px;
            color: #5b6b80;
            letter-spacing: 0.02em;
        
            line-height: 17.6px;

            -webkit-font-smoothing: auto;
}
@media (max-width: 1024px) {
            .problems-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            .capabilities-grid {
                grid-template-columns: 1fr;
                max-width: 600px;
                margin: 0 auto;
            }
            .mobile-modules-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            .process-stream {
                flex-direction: column;
                align-items: flex-start;
            }
            .process-stream-steps {
                width: 100%;
            }
            .transformation-table {
                display: block;
                overflow-x: auto;
            }
            .step-reduction-grid {
                grid-template-columns: 1fr;
                max-width: 500px;
                margin: 0 auto;
            }
            .integration-visual {
                flex-direction: column;
            }
            .integration-arrow {
                transform: rotate(90deg);
                padding: 8px 0;
            }
        }
@media (max-width: 640px) {
            .wms-hero {
                padding: 120px 0 60px;
            }
            .wms-hero h1 {
                font-size: 32px;
            }
            .problems-grid {
                grid-template-columns: 1fr;
                max-width: 400px;
                margin: 0 auto;
            }
            .mobile-modules-grid {
                grid-template-columns: 1fr;
                max-width: 360px;
                margin: 0 auto;
            }
            .step-reduction-columns {
                grid-template-columns: 1fr;
            }
            .step-number {
                font-size: 36px;
            
                -webkit-font-smoothing: auto !important;
}
        }
@media (prefers-reduced-motion: reduce) {
            .capability-box,
            .integration-node,
            .integration-link,
            .problem-card,
            .mobile-module,
            .dw-d-bg,
            .dw-d-parallax,
            .dw-wave-flow,
            .dw-d-glow {
                animation: none !important;
                transition: none !important;
            }
        }

${base.diviListReset(P)}
${base.reducedMotion('')}

/* Super D decoration */
${superD.css('dw-d-bg', { variant: 'outline', position: 'right', modifiers: ['glow'] })}

.section-subtitle {
            line-height: 28.8px !important;
        
            -webkit-font-smoothing: auto !important;
}
`.trim();
}

module.exports = { blocks, css };
