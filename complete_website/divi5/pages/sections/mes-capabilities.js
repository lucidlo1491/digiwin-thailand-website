/**
 * mes-capabilities.js — Capabilities Section (S5)
 *
 * AUTO-GENERATED by scaffold-builder.js — review and customize before pushing.
 * Source: mes.html line 1567
 *
// NOTE: Contains inline SVGs — may need Base64 JS injection if wp_kses strips elements.
 * styles.css: 15 base, 1 hover, 0 pseudo, 0 hidden
 * Original classes: capabilities-section, dw-section-scene, products-inner, section-header, section-title (+6 more)
 */

const base = require('../../lib/templates/_base');

const P = 'cap'; // CSS prefix — customize if needed

// ════════════════════════════════════════════════════════════════
// BLOCKS
// ════════════════════════════════════════════════════════════════
function blocks() {
  const html = `
    <div class="capabilities-section">
    <div class="dw-section-scene">
                <svg aria-hidden="true" viewBox="0 0 1400 900" fill="none" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice">
                    <line x1="0" y1="450" x2="1400" y2="450" stroke="#000864" stroke-width="1.5" opacity="0.1"/>
                    <rect x="150" y="400" width="80" height="100" rx="6" stroke="#000864" stroke-width="2" fill="none" opacity="0.15"/>
                    <text x="190" y="460" font-family="'Noto Sans',sans-serif" font-size="8" font-weight="600" fill="#000864" opacity="0.1" text-anchor="middle">WS-01</text>
                    <path d="M230 450 L380 450" stroke="#000864" stroke-width="1.5" opacity="0.12"/>
                    <polygon points="375,445 390,450 375,455" fill="#000864" opacity="0.12"/>
                    <rect x="390" y="400" width="80" height="100" rx="6" stroke="#000864" stroke-width="2" fill="none" opacity="0.15"/>
                    <text x="430" y="460" font-family="'Noto Sans',sans-serif" font-size="8" font-weight="600" fill="#000864" opacity="0.1" text-anchor="middle">WS-02</text>
                    <path d="M470 450 L620 450" stroke="#000864" stroke-width="1.5" opacity="0.12"/>
                    <polygon points="615,445 630,450 615,455" fill="#000864" opacity="0.12"/>
                    <rect x="630" y="400" width="80" height="100" rx="6" stroke="#000864" stroke-width="2" fill="none" opacity="0.15"/>
                    <text x="670" y="460" font-family="'Noto Sans',sans-serif" font-size="8" font-weight="600" fill="#000864" opacity="0.1" text-anchor="middle">WS-03</text>
                    <path d="M710 450 L860 450" stroke="#000864" stroke-width="1.5" opacity="0.12"/>
                    <polygon points="855,445 870,450 855,455" fill="#000864" opacity="0.12"/>
                    <rect x="870" y="400" width="80" height="100" rx="6" stroke="#000864" stroke-width="2" fill="none" opacity="0.15"/>
                    <text x="910" y="460" font-family="'Noto Sans',sans-serif" font-size="8" font-weight="600" fill="#000864" opacity="0.1" text-anchor="middle">QC</text>
                    <path d="M950 450 L1100 450" stroke="#000864" stroke-width="1.5" opacity="0.12"/>
                    <polygon points="1095,445 1110,450 1095,455" fill="#000864" opacity="0.12"/>
                    <rect x="1110" y="400" width="80" height="100" rx="6" stroke="#000864" stroke-width="2" fill="none" opacity="0.15"/>
                    <text x="1150" y="460" font-family="'Noto Sans',sans-serif" font-size="8" font-weight="600" fill="#000864" opacity="0.1" text-anchor="middle">PACK</text>
                    <circle cx="190" cy="300" r="20" stroke="#00AFF0" stroke-width="1" fill="none" opacity="0.12"/>
                    <text x="190" y="304" font-family="'Noto Sans',sans-serif" font-size="7" fill="#00AFF0" opacity="0.15" text-anchor="middle">SCAN</text>
                    <circle cx="430" cy="300" r="20" stroke="#00AFF0" stroke-width="1" fill="none" opacity="0.12"/>
                    <circle cx="670" cy="300" r="20" stroke="#00AFF0" stroke-width="1" fill="none" opacity="0.12"/>
                    <circle cx="910" cy="300" r="20" stroke="#00AFF0" stroke-width="1" fill="none" opacity="0.12"/>
                    <rect x="500" y="600" width="400" height="40" rx="4" stroke="#000864" stroke-width="1" fill="none" opacity="0.08"/>
                    <text x="700" y="625" font-family="'Noto Sans',sans-serif" font-size="10" font-weight="600" fill="#000864" opacity="0.06" text-anchor="middle">WORK ORDER TRACKING</text>
                    <circle cx="300" cy="700" r="3" fill="#000864" opacity="0.08"/>
                    <circle cx="1200" cy="250" r="4" fill="#000864" opacity="0.08"/>
                </svg>
            </div>
            <div class="products-inner" style="position: relative; z-index: 2;">
                <div class="section-header">
                    <h2 class="section-title">What You Can See—Right Now</h2>
                    <p class="section-subtitle">Real-time visibility into every aspect of production</p>
                </div>
    
                <div class="capabilities-grid">
                    <div class="capability-card">
                        <div class="capability-icon">
                            <svg aria-hidden="true" viewBox="0 0 24 24"><circle cx="12" cy="10" r="3"/><path d="M12 2a8 8 0 0 0-8 8c0 5.4 7 11.5 7.3 11.8a1 1 0 0 0 1.4 0C13 21.5 20 15.4 20 10a8 8 0 0 0-8-8z"/></svg>
                        </div>
                        <h3 class="capability-title">Order Location</h3>
                        <p class="capability-desc">Which workstation? What operation? How long until complete?</p>
                    </div>
                    <div class="capability-card">
                        <div class="capability-icon">
                            <svg aria-hidden="true" viewBox="0 0 24 24"><path d="M3 3v18h18"/><path d="M18.7 8l-5.1 5.2-2.8-2.7L7 14.3"/></svg>
                        </div>
                        <h3 class="capability-title">Production Rate</h3>
                        <p class="capability-desc">Units per hour vs. target. By line, product, shift.</p>
                    </div>
                    <div class="capability-card">
                        <div class="capability-icon">
                            <svg aria-hidden="true" viewBox="0 0 24 24"><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>
                        </div>
                        <h3 class="capability-title">Quality Issues</h3>
                        <p class="capability-desc">Defects as they happen. By type, station, operator.</p>
                    </div>
                    <div class="capability-card">
                        <div class="capability-icon">
                            <svg aria-hidden="true" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                        </div>
                        <h3 class="capability-title">Downtime</h3>
                        <p class="capability-desc">What's stopped? Why? For how long? Trends over time.</p>
                    </div>
                    <div class="capability-card">
                        <div class="capability-icon">
                            <svg aria-hidden="true" viewBox="0 0 24 24"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M23 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
                        </div>
                        <h3 class="capability-title">Labor Efficiency</h3>
                        <p class="capability-desc">Actual vs. standard time. By operator, by operation.</p>
                    </div>
                    <div class="capability-card">
                        <div class="capability-icon">
                            <svg aria-hidden="true" viewBox="0 0 24 24"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/><polyline points="3.27 6.96 12 12.01 20.73 6.96"/><line x1="12" y1="22.08" x2="12" y2="12"/></svg>
                        </div>
                        <h3 class="capability-title">Material Usage</h3>
                        <p class="capability-desc">What's being consumed? Variance from standard?</p>
                    </div>
                    <div class="capability-card">
                        <div class="capability-icon">
                            <svg aria-hidden="true" viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M3 9h18"/><path d="M9 21V9"/></svg>
                        </div>
                        <h3 class="capability-title">OEE Metrics</h3>
                        <p class="capability-desc">Availability, performance, quality—calculated automatically.</p>
                    </div>
                    <div class="capability-card">
                        <div class="capability-icon">
                            <svg aria-hidden="true" viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
                        </div>
                        <h3 class="capability-title">Traceability</h3>
                        <p class="capability-desc">Full genealogy. Lot, serial, components, operators.</p>
                    </div>
                </div>
            </div>
    </div>
    `;

  return base.wrapInDiviSection('Capabilities', html, 'Capabilities: Content');
}

// ════════════════════════════════════════════════════════════════
// CSS
// ════════════════════════════════════════════════════════════════
function css() {
  return `
/* === CAPABILITIES (S5) === */
/* TODO: Review and remap class selectors to use \${P} prefix */
/* TODO: Add section container: .\${P}-section{...;\${base.fontSmoothingReset(P)}font-size:16px} */
.products-inner {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 24px;
        }
.capabilities-section {
            padding: 80px 0;
            background: #ffffff;
        }

/* === HOVER STATES (auto-ported from styles.css) === */
.\${P}-card:hover{border-color:#00AFF0;box-shadow:0 8px 24px rgba(0, 175, 240, 0.1)}
/* REF: BASE RULES from styles.css (check against inline CSS above) */
/* .dw-section-scene{position:absolute;inset:0;pointer-events:none;z-index:1;overflow:hidden} */
/* .dw-section-scene svg{width:100%;height:100%;opacity:0.20} */
.products-inner{max-width:1100px;margin:0 auto;padding:0 24px}
.section-header{text-align:center;margin-bottom:48px}
.section-title{font-family:'Noto Sans', sans-serif;font-size:36px;font-weight:700;color:#000864;margin-bottom:16px}
/* .section-subtitle{font-family:'Noto Sans', sans-serif;font-size:18px;color:#5b6b80;max-width:600px;margin:0 auto} */
.capabilities-section{padding:80px 0;background:#F5F7FA}
/* .capabilities-grid{display:grid;grid-template-columns:repeat(4, 1fr);gap:24px} */
/* .capability-card{text-align:center;padding:32px 24px;background:#ffffff;border-radius:16px;border:1px solid #e8eef3;transition:all 0.3s ease} */
/* .capability-icon{width:64px;height:64px;background:linear-gradient(135deg, rgba(0, 175, 240, 0.1), rgba(0, 175, 240, 0.05));border-radius:16px;display:flex;align-items:center;justify-content:center;margin:0 auto 16px} */
/* .capability-icon svg{width:28px;height:28px;stroke:#00AFF0;stroke-width:1.5;fill:none} */
/* .capability-title{font-family:'Noto Sans', sans-serif;font-size:16px;font-weight:600;color:#000864;margin-bottom:8px} */
/* .capability-desc{font-family:'Noto Sans', sans-serif;font-size:14px;color:#5b6b80;line-height:1.5} */
/* @media (max-width:1024px){.capabilities-grid{grid-template-columns:repeat(2, 1fr)}} */
@media (max-width:640px){.section-title{font-size:28px}.capabilities-grid{grid-template-columns:1fr;max-width:360px;margin-left:auto;margin-right:auto}.product-detail-cta-title{font-size:28px}.product-detail-cta-buttons{flex-direction:column}.product-detail-cta-buttons .btn-white,.product-detail-cta-buttons .btn-outline-white{width:100%;text-align:center}}

\
/* Defensive SVG sizing */
svg:not([width]):not([class]){max-width:48px;max-height:48px}
${base.reducedMotion('')}
`.trim();
}

module.exports = { blocks, css };
