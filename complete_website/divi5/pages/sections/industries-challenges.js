/**
 * industries-challenges.js — Challenges Section (S4)
 *
 * AUTO-GENERATED by scaffold-builder.js — review and customize before pushing.
 * Source: industries.html line 1156
 *
// NOTE: Contains inline SVGs — may need Base64 JS injection if wp_kses strips elements.
 * styles.css: 15 base, 2 hover, 0 pseudo, 0 hidden
 * Original classes: challenges-section, dw-section-scene, challenges-inner, challenges-header, challenges-grid (+2 more)
 */

const base = require('../../lib/templates/_base');

const P = 'cha'; // CSS prefix — customize if needed

// ════════════════════════════════════════════════════════════════
// BLOCKS
// ════════════════════════════════════════════════════════════════
function blocks() {
  const html = `
    <div class="challenges-section">
    <div class="dw-section-scene">
                <svg aria-hidden="true" viewBox="0 0 1400 900" fill="none" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice">
                    <line x1="0" y1="200" x2="450" y2="200" stroke="#000864" stroke-width="1.5" opacity="0.12"/>
                    <line x1="550" y1="200" x2="900" y2="200" stroke="#000864" stroke-width="1.5" stroke-dasharray="8 6" opacity="0.1"/>
                    <line x1="1000" y1="200" x2="1400" y2="200" stroke="#000864" stroke-width="1.5" opacity="0.12"/>
                    <line x1="0" y1="500" x2="400" y2="500" stroke="#000864" stroke-width="1.5" opacity="0.12"/>
                    <line x1="500" y1="500" x2="800" y2="500" stroke="#000864" stroke-width="1.5" stroke-dasharray="8 6" opacity="0.1"/>
                    <line x1="900" y1="500" x2="1400" y2="500" stroke="#000864" stroke-width="1.5" opacity="0.12"/>
                    <line x1="350" y1="0" x2="350" y2="300" stroke="#000864" stroke-width="1" opacity="0.08"/>
                    <line x1="350" y1="380" x2="350" y2="600" stroke="#000864" stroke-width="1" stroke-dasharray="6 4" opacity="0.06"/>
                    <line x1="1050" y1="100" x2="1050" y2="400" stroke="#000864" stroke-width="1" opacity="0.08"/>
                    <line x1="1050" y1="500" x2="1050" y2="900" stroke="#000864" stroke-width="1" stroke-dasharray="6 4" opacity="0.06"/>
                    <g opacity="0.5"><line x1="485" y1="190" x2="505" y2="210" stroke="#00AFF0" stroke-width="2"/><line x1="505" y1="190" x2="485" y2="210" stroke="#00AFF0" stroke-width="2"/></g>
                    <g opacity="0.4"><line x1="435" y1="490" x2="455" y2="510" stroke="#00AFF0" stroke-width="2"/><line x1="455" y1="490" x2="435" y2="510" stroke="#00AFF0" stroke-width="2"/></g>
                    <rect x="150" y="300" width="80" height="60" rx="4" stroke="#000864" stroke-width="1.5" fill="none" opacity="0.1"/>
                    <rect x="800" y="600" width="80" height="60" rx="4" stroke="#000864" stroke-width="1.5" fill="none" opacity="0.1"/>
                    <text x="600" y="400" font-family="'Noto Sans',sans-serif" font-size="32" font-weight="800" fill="#000864" opacity="0.05">?</text>
                    <circle cx="250" cy="700" r="3" fill="#000864" opacity="0.08"/>
                    <circle cx="700" cy="300" r="4" fill="#00AFF0" opacity="0.08"/>
                    <circle cx="1200" cy="700" r="3" fill="#000864" opacity="0.06"/>
                </svg>
            </div>
            <div class="challenges-inner" style="position: relative; z-index: 2;">
                <div class="challenges-header">
                    <h2>Cross-Industry Capabilities</h2>
                    <p>Regardless of your vertical, these manufacturing fundamentals are built into every DigiWin solution</p>
                </div>
                <div class="challenges-grid">
                    <div class="challenge-card">
                        <div class="challenge-icon">
                            <svg aria-hidden="true" viewBox="0 0 24 24"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>
                        </div>
                        <h3>Full Traceability</h3>
                        <p>Lot-level tracking from raw material to finished goods. Answer any customer audit question in minutes, not days.</p>
                    </div>
                    <div class="challenge-card">
                        <div class="challenge-icon">
                            <svg aria-hidden="true" viewBox="0 0 24 24"><path d="M9 5H7a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2"/><rect x="9" y="3" width="6" height="4" rx="2"/><path d="M9 14l2 2 4-4"/></svg>
                        </div>
                        <h3>BOI Compliance</h3>
                        <p>Production-order-level material reconciliation that passes BOI audit scrutiny. One client saved 10M+ THB/year in supplementary taxes.</p>
                    </div>
                    <div class="challenge-card">
                        <div class="challenge-icon">
                            <svg aria-hidden="true" viewBox="0 0 24 24"><path d="M16 3h5v5"/><path d="M8 3H3v5"/><path d="M3 16v5h5"/><path d="M16 21h5v-5"/><path d="M21 3l-7 7"/><path d="M3 21l7-7"/></svg>
                        </div>
                        <h3>Dual-Unit Conversion</h3>
                        <p>Show kilograms AND pieces simultaneously across purchasing, production, and sales. No workarounds needed.</p>
                    </div>
                    <div class="challenge-card">
                        <div class="challenge-icon">
                            <svg aria-hidden="true" viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"/><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/></svg>
                        </div>
                        <h3>Production Visibility</h3>
                        <p>See your shop floor in real time — machine status, work order progress, and OEE — not yesterday's spreadsheet.</p>
                    </div>
                </div>
            </div>
    </div>
    `;

  return base.wrapInDiviSection('Challenges', html, 'Challenges: Content');
}

// ════════════════════════════════════════════════════════════════
// CSS
// ════════════════════════════════════════════════════════════════
function css() {
  return `
/* === CHALLENGES (S4) === */
/* TODO: Review and remap class selectors to use ${P} prefix */
/* TODO: Add section container: .${P}-section{...;${base.fontSmoothingReset(P)}font-size:16px} */
.challenges-section {
            padding: 100px 0;
            background: #fff;
        }
.challenges-inner {
            max-width: 1100px;
            margin: 0 auto;
            padding: 0 24px;
        }
.challenges-header {
            text-align: center;
            margin-bottom: 60px;
        }
.challenges-header h2 {
            font-family: 'Noto Sans', sans-serif;
            font-size: 36px;
            color: #000864;
            margin-bottom: 16px;
        }
.challenges-header p {
            font-size: 18px;
            color: #5b6b80;
        }
.challenges-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 24px;
        }
.challenge-card {
            background: #fff;
            border: 1px solid #e2e8f0;
            border-radius: 16px;
            padding: 32px 24px;
            text-align: center;
            transition: all 0.3s ease;
        }
.challenge-card:hover {
            border-color: #00AFF0;
            box-shadow: 0 8px 30px rgba(0, 175, 240, 0.12);
        }
.challenge-icon {
            width: 64px;
            height: 64px;
            background: linear-gradient(135deg, rgba(0, 175, 240, 0.1), rgba(0, 175, 240, 0.05));
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            transition: all 0.4s ease;
        }
.challenge-icon svg {
            width: 28px;
            height: 28px;
            stroke: #00AFF0;
            stroke-width: 1.5;
            fill: none;
        }
.challenge-card:hover .challenge-icon {
            background: linear-gradient(135deg, #00AFF0, #003CC8);
        }
.challenge-card:hover .challenge-icon svg {
            stroke: #fff;
        }
.challenge-card h3 {
            font-family: 'Noto Sans', sans-serif;
            font-size: 20px;
            color: #000864;
            margin-bottom: 12px;
        }
.challenge-card p {
            font-size: 14px;
            color: #5b6b80;
            line-height: 1.6;
        }
@media (max-width: 1024px) {
            .industries-hero h1 { font-size: 40px; }
            .context-stats { grid-template-columns: repeat(2, 1fr); }
            .industry-card { grid-template-columns: 1fr; }
            .industry-card:nth-child(even) { direction: ltr; }
            .challenges-grid { grid-template-columns: repeat(2, 1fr); }
            .approach-steps { grid-template-columns: 1fr; gap: 40px; }
        }
@media (prefers-reduced-motion: reduce) {
            .industries-hero-inner,
            .industries-hero::before,
            .industries-hero-badge::before,
            .context-stat,
            .industry-card,
            .industry-card-link,
            .challenge-card,
            .challenge-icon,
            .dw-d-parallax,
            .dw-wave-flow,
            .dw-wave-fade,
            .dw-d-bg {
                animation: none !important;
                transition: none !important;
            }
            .industry-card.visible {
                opacity: 1;
                transform: none;
            }
        }
@media (max-width: 640px) {
            .industries-hero { padding: 120px 0 80px; }
            .industries-hero h1 { font-size: 32px; }
            .industries-hero-subtitle { font-size: 17px; }
            .industries-hero-stats { flex-wrap: wrap; gap: 32px; }
            .context-stats { grid-template-columns: 1fr; }
            .context-stat-value { font-size: 32px; }
            .industry-card-visual { padding: 40px; }
            .industry-card-content { padding: 32px; }
            .industry-card-title { font-size: 24px; }
            .industry-features { grid-template-columns: 1fr; }
            .challenges-grid { grid-template-columns: 1fr; }
        }

/* TODO: HOVER STATES using global classes (port manually) */
/* .stake-card:hover .stake-icon, .challenge-card:hover .challenge-icon{background:linear-gradient(135deg, #00AFF0, #003CC8)} */
/* .stake-card:hover .stake-icon svg, .challenge-card:hover .challenge-icon svg{stroke:#fff} */
.stakes-section, .challenges-section{padding:100px 0;background:#F5F7FA}
.stakes-inner, .challenges-inner{max-width:1100px;margin:0 auto;padding:0 24px}
.stakes-header, .challenges-header{text-align:center;margin-bottom:60px}
.stakes-header h2, .challenges-header h2{font-family:'Noto Sans', sans-serif;font-size:36px;color:#000864;margin-bottom:16px}
.stakes-header p, .challenges-header p{font-size:18px;color:#5b6b80}
.stakes-grid, .challenges-grid{display:grid;grid-template-columns:repeat(3, 1fr);gap:32px}
/* .stake-card, .challenge-card{background:linear-gradient(145deg, #fef2f2 0%, #fee2e2 100%);border:1px solid #fecaca;border-radius:20px;padding:40px 32px;text-align:center} */
/* .stake-icon, .challenge-icon{width:72px;height:72px;background:linear-gradient(135deg, #fee2e2, #fecaca);border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 24px;transition:all 0.4s ease} */
/* .stake-icon svg, .challenge-icon svg{width:32px;height:32px;stroke:#b91c1c;stroke-width:1.5;fill:none} */
/* .stake-card h3, .challenge-card h3{font-family:'Noto Sans', sans-serif;font-size:22px;color:#991b1b;margin-bottom:16px} */
/* .stake-card p, .challenge-card p{font-size:15px;color:#b91c1c;line-height:1.7} */
@media (max-width:1024px){.auto-hero h1, .elec-hero h1, .metal-hero h1{font-size:40px}.auto-hero-stats, .elec-hero-stats, .metal-hero-stats{gap:40px}.stakes-grid, .challenges-grid{grid-template-columns:1fr}.solutions-grid{grid-template-columns:1fr}.products-grid{grid-template-columns:1fr}}
/* @media (max-width:640px){.auto-hero, .elec-hero, .metal-hero{padding:120px 0 80px}.auto-hero h1, .elec-hero h1, .metal-hero h1{font-size:32px}.auto-hero-subtitle, .elec-hero-subtitle, .metal-hero-subtitle{font-size:17px}.auto-hero-stats, .elec-hero-stats, .metal-hero-stats{flex-direction:column;gap:24px}.auto-hero-stat-value, .elec-hero-stat-value, .metal-hero-stat-value{font-size:36px}.stake-card, .challenge-card{padding:32px 24px}.solution-card{padding:32px}.cta-section h2{font-size:28px}.cta-buttons{flex-direction:column}} */

\
/* Defensive SVG sizing */
svg:not([width]):not([class]){max-width:48px;max-height:48px}
${base.reducedMotion('')}
`.trim();
}

module.exports = { blocks, css };
