/**
 * erp-capabilities.js — Capabilities Section (S5)
 *
 * AUTO-GENERATED by scaffold-builder.js — review and customize before pushing.
 * Source: erp.html line 1962
 *
// NOTE: Contains inline SVGs — may need Base64 JS injection if wp_kses strips elements.
 * styles.css: 12 base, 1 hover, 0 pseudo, 0 hidden
 * Original classes: capabilities-section, dw-section-scene, capabilities-inner, capabilities-header, capabilities-label (+6 more)
 */

const base = require('../../lib/templates/_base');

const P = 'cap'; // CSS prefix — customize if needed

// ════════════════════════════════════════════════════════════════
// BLOCKS
// ════════════════════════════════════════════════════════════════
function blocks() {
  const html = `
    <div class="capabilities-section">
    <div class="dw-section-scene">
                <svg aria-hidden="true" viewBox="0 0 1400 900" fill="none" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid slice">
                    <circle cx="700" cy="450" r="70" stroke="#000864" stroke-width="2" fill="none" opacity="0.12"/>
                    <circle cx="700" cy="450" r="35" stroke="#0369a1" stroke-width="1.5" fill="none" opacity="0.1"/>
                    <text x="700" y="455" font-family="'Noto Sans',sans-serif" font-size="14" font-weight="700" fill="#000864" opacity="0.1" text-anchor="middle">ERP</text>
                    <rect x="100" y="200" width="90" height="60" rx="6" stroke="#000864" stroke-width="1.5" fill="none" opacity="0.12"/>
                    <text x="145" y="235" font-family="'Noto Sans',sans-serif" font-size="8" font-weight="600" fill="#000864" opacity="0.1" text-anchor="middle">FINANCE</text>
                    <line x1="190" y1="230" x2="635" y2="430" stroke="#000864" stroke-width="1" opacity="0.08"/>
                    <rect x="100" y="600" width="90" height="60" rx="6" stroke="#000864" stroke-width="1.5" fill="none" opacity="0.12"/>
                    <text x="145" y="635" font-family="'Noto Sans',sans-serif" font-size="8" font-weight="600" fill="#000864" opacity="0.1" text-anchor="middle">INVENTORY</text>
                    <line x1="190" y1="630" x2="635" y2="470" stroke="#000864" stroke-width="1" opacity="0.08"/>
                    <rect x="1210" y="200" width="90" height="60" rx="6" stroke="#000864" stroke-width="1.5" fill="none" opacity="0.12"/>
                    <text x="1255" y="235" font-family="'Noto Sans',sans-serif" font-size="8" font-weight="600" fill="#000864" opacity="0.1" text-anchor="middle">SALES</text>
                    <line x1="1210" y1="230" x2="765" y2="430" stroke="#000864" stroke-width="1" opacity="0.08"/>
                    <rect x="1210" y="600" width="90" height="60" rx="6" stroke="#000864" stroke-width="1.5" fill="none" opacity="0.12"/>
                    <text x="1255" y="635" font-family="'Noto Sans',sans-serif" font-size="8" font-weight="600" fill="#000864" opacity="0.1" text-anchor="middle">PURCHASE</text>
                    <line x1="1210" y1="630" x2="765" y2="470" stroke="#000864" stroke-width="1" opacity="0.08"/>
                    <path d="M450 320 L460 330 L480 310" stroke="#0369a1" stroke-width="2" fill="none" opacity="0.18"/>
                    <path d="M920 320 L930 330 L950 310" stroke="#0369a1" stroke-width="2" fill="none" opacity="0.18"/>
                    <circle cx="350" cy="450" r="3" fill="#000864" opacity="0.1"/>
                    <circle cx="1050" cy="450" r="3" fill="#000864" opacity="0.1"/>
                </svg>
            </div>
            <div class="capabilities-inner" style="position: relative; z-index: 2;">
                <div class="capabilities-header">
                    <p class="capabilities-label">What's Inside</p>
                    <h2 class="capabilities-title">Core ERP Capabilities</h2>
                </div>
    
                <div class="capabilities-grid">
                    <div class="capability-card">
                        <div class="capability-icon">
                            <svg aria-hidden="true" viewBox="0 0 24 24"><path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/></svg>
                        </div>
                        <h3 class="capability-title">Financial Control</h3>
                        <p class="capability-desc">Multi-currency, multi-company. Real-time cost visibility. Automated consolidation.</p>
                    </div>
                    <div class="capability-card">
                        <div class="capability-icon">
                            <svg aria-hidden="true" viewBox="0 0 24 24"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/><path d="M3.27 6.96L12 12.01l8.73-5.05M12 22.08V12"/></svg>
                        </div>
                        <h3 class="capability-title">Inventory Management</h3>
                        <p class="capability-desc">Lot tracking. Multiple locations. Cycle counting. Min/max automation.</p>
                    </div>
                    <div class="capability-card">
                        <div class="capability-icon">
                            <svg aria-hidden="true" viewBox="0 0 24 24"><rect x="2" y="4" width="20" height="16" rx="2"/><path d="M6 8v8M10 8v8M14 8v8M18 8v8"/></svg>
                        </div>
                        <h3 class="capability-title">Production Planning</h3>
                        <p class="capability-desc">MRP engine with advanced scheduling. Capacity planning. Work order dispatch. Schedule optimization.</p>
                    </div>
                    <div class="capability-card">
                        <div class="capability-icon">
                            <svg aria-hidden="true" viewBox="0 0 24 24"><path d="M9 12l2 2 4-4"/><circle cx="12" cy="12" r="10"/></svg>
                        </div>
                        <h3 class="capability-title">Quality Management</h3>
                        <p class="capability-desc">Incoming, outgoing, and in-process quality checks. Non-conformance tracking. Corrective action management. SPC (Statistical Process Control) integration ready.</p>
                    </div>
                    <div class="capability-card">
                        <div class="capability-icon">
                            <svg aria-hidden="true" viewBox="0 0 24 24"><path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"/><line x1="3" y1="6" x2="21" y2="6"/><path d="M16 10a4 4 0 0 1-8 0"/></svg>
                        </div>
                        <h3 class="capability-title">Procurement</h3>
                        <p class="capability-desc">Supplier management. RFQ/PO workflow. Blanket orders. Receiving inspection.</p>
                    </div>
                    <div class="capability-card">
                        <div class="capability-icon">
                            <svg aria-hidden="true" viewBox="0 0 24 24"><path d="M3 3v18h18"/><path d="M18.7 8l-5.1 5.2-2.8-2.7L7 14.3"/></svg>
                        </div>
                        <h3 class="capability-title">Sales & CRM</h3>
                        <p class="capability-desc">Quotation to order. Available-to-promise checking. Customer credit control. Delivery scheduling.</p>
                    </div>
                    <div class="capability-card">
                        <div class="capability-icon">
                            <svg aria-hidden="true" viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2"/><path d="M3 9h18M9 21V9"/></svg>
                        </div>
                        <h3 class="capability-title">Reporting & BI</h3>
                        <p class="capability-desc">Pre-built manufacturing reports. Custom dashboards. Excel export. Mobile access.</p>
                    </div>
                    <div class="capability-card">
                        <div class="capability-icon">
                            <svg aria-hidden="true" viewBox="0 0 24 24"><circle cx="12" cy="12" r="3"/><path d="M12 2v4M12 18v4M4.93 4.93l2.83 2.83M16.24 16.24l2.83 2.83M2 12h4M18 12h4M4.93 19.07l2.83-2.83M16.24 7.76l2.83-2.83"/></svg>
                        </div>
                        <h3 class="capability-title">Integration</h3>
                        <p class="capability-desc">Native MES/WMS/AIoT connection. API for third-party. EDI for customers.</p>
                    </div>
                </div>
            </div>
    </div>
    `;

  return base.wrapInDiviSection('Capabilities', html, 'Capabilities: Content');
}

// ════════════════════════════════════════════════════════════════
// CSS
// ════════════════════════════════════════════════════════════════
function css() {
  return `
/* === CAPABILITIES (S5) === */
/* TODO: Review and remap class selectors to use ${P} prefix */
/* TODO: Add section container: .${P}-section{...;${base.fontSmoothingReset(P)}font-size:16px} */
.capabilities-section {
            padding: 100px 0;
            background: #ffffff;
        }
.capabilities-header {
            text-align: center;
            margin-bottom: 64px;
        }
.capabilities-label {
            font-family: 'JetBrains Mono', monospace;
            font-size: 11px;
            font-weight: 500;
            color: #0369a1;
            text-transform: uppercase;
            letter-spacing: 0.15em;
            margin-bottom: 16px;
        
            line-height: 17.6px;

            -webkit-font-smoothing: auto;
}
.capabilities-title {
            font-family: 'Noto Sans', sans-serif;
            font-size: 40px;
            font-weight: 700;
            color: #000864;
            margin: 0;
        }

.dw-section-scene{position:absolute;inset:0;pointer-events:none;z-index:1;overflow:hidden}
.dw-section-scene svg{width:100%;height:100%;opacity:0.20}
.capabilities-inner{max-width:1200px;margin:0 auto;padding:0 24px}
.capabilities-grid{display:grid;grid-template-columns:repeat(4, 1fr);gap:24px}
.capability-card{text-align:center;padding:32px 24px;background:#ffffff;border-radius:16px;border:1px solid #e8eef3;transition:all 0.3s ease}
.capability-card:hover{border-color:#0369a1;box-shadow:0 8px 24px rgba(3, 105, 161, 0.1)}
.capability-icon{width:64px;height:64px;background:linear-gradient(135deg, rgba(0, 175, 240, 0.1), rgba(0, 175, 240, 0.05)) !important;border-radius:16px;display:flex;align-items:center;justify-content:center;margin:0 auto 16px}
.capability-icon svg{width:28px;height:28px;stroke:#0369a1;stroke-width:1.5;fill:none}
.capability-title{font-family:'Noto Sans', sans-serif;font-size:16px;font-weight:600;color:#000864;margin-bottom:8px
            -webkit-font-smoothing: auto !important;
}
.capability-desc{font-family:'Noto Sans', sans-serif;font-size:14px;color:#5b6b80;line-height:1.5
            -webkit-font-smoothing: auto !important;
}
@media (max-width:1024px){.capabilities-grid{grid-template-columns:repeat(2, 1fr)}}
@media (max-width:640px){.capabilities-title{font-size:28px}.capabilities-grid{grid-template-columns:1fr;max-width:360px;margin-left:auto;margin-right:auto}}

${base.reducedMotion('')}

.capability-title {
            -webkit-font-smoothing: auto !important;
        
            margin-bottom: 8px !important;
}

.capability-desc {
            -webkit-font-smoothing: auto !important;
        
            line-height: 21px !important;
}

.capability-title {
            -webkit-font-smoothing: auto !important;
        
            margin-bottom: 8px !important;
}

.capability-desc {
            -webkit-font-smoothing: auto !important;
        
            line-height: 21px !important;
}

.capability-title {
            -webkit-font-smoothing: auto !important;
        
            margin-bottom: 8px !important;
}

.capability-desc {
            -webkit-font-smoothing: auto !important;
        
            line-height: 21px !important;
}

.capability-title {
            margin-bottom: 8px !important;
        }

.capability-desc {
            line-height: 21px !important;
        }
`.trim();
}

module.exports = { blocks, css };
