/**
 * metal-plastics-challenges.js — Challenges Section (S3)
 *
 * AUTO-GENERATED by scaffold-builder.js — review and customize before pushing.
 * Source: metal-plastics.html line 443
 *
// NOTE: Contains inline SVGs — may need Base64 JS injection if wp_kses strips elements.
 * styles.css: 16 base, 2 hover, 0 pseudo, 0 hidden
 * Original classes: challenges-section, fade-in, challenges-inner, challenges-header, challenges-grid (+2 more)
 */

// TEMPLATE HINT: matches "card-grid-light". See home-factory-checks.js for example.
const base = require('../../lib/templates/_base');

const P = 'challenges'; // CSS prefix — customize if needed

// ════════════════════════════════════════════════════════════════
// BLOCKS
// ════════════════════════════════════════════════════════════════
function blocks() {
  const html = `
    <div class="${P}-inner" style="position: relative; z-index: 2;">
                <div class="${P}-header">
                    <h2>The Process Manufacturing Challenge</h2>
                    <p>Hidden losses that erode your margins</p>
                </div>
                <div class="${P}-grid">
                    <div class="challenge-card">
                        <div class="challenge-icon">
                            <svg aria-hidden="true" viewBox="0 0 24 24"><polyline points="3 6 5 6 6 6"/><path d="M6 6v14a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V6"/><path d="M19 6h-1a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2H5"/><line x1="10" y1="11" x2="10" y2="17"/><line x1="14" y1="11" x2="14" y2="17"/></svg>
                        </div>
                        <h3>Scrap Eats Margins</h3>
                        <p>Material costs are your biggest expense. Every defective part is money thrown away. Small yield improvements create significant profit impact.</p>
                    </div>
                    <div class="challenge-card">
                        <div class="challenge-icon">
                            <svg aria-hidden="true" viewBox="0 0 24 24"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>
                        </div>
                        <h3>Die/Mold Mysteries</h3>
                        <p>Which die is causing defects? When does a mold need maintenance? Without data, you're guessing until it fails catastrophically.</p>
                    </div>
                    <div class="challenge-card">
                        <div class="challenge-icon">
                            <svg aria-hidden="true" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                        </div>
                        <h3>Cycle Time Drift</h3>
                        <p>Machines slow down gradually. Operators don't notice 0.5 seconds per cycle—but over a shift, that's real capacity loss.</p>
                    </div>
                </div>
            </div>`;

  return base.wrapInDiviSection('Challenges', html, 'Challenges: Content');
}

// ════════════════════════════════════════════════════════════════
// CSS
// ════════════════════════════════════════════════════════════════
function css() {
  return `
/* === CHALLENGES (S3) === */
/* Divi 5 section boilerplate (font-smoothing, p padding, heading resets) */
/* Divi wrapper override */
.et_pb_section:has(.challenges-inner){padding:100px 0 !important;background:#F5F7FA !important}
.challenges-section{${base.fontSmoothingReset(P)}font-size:16px}
.challenges-section p{padding-bottom:0;line-height:1.6}
.et_pb_section .challenges-section h2,.et_pb_section .challenges-section h3{margin:0;padding:0;line-height:1.6}
/* Hover states */
.challenge-card:hover .challenge-icon{background:linear-gradient(135deg, #00AFF0, #003CC8)}
.challenge-card:hover .challenge-icon svg{stroke:#fff}
.stakes-inner, .challenges-inner{max-width:1100px;margin:0 auto;padding:0 24px}
.stakes-header, .challenges-header{text-align:center;margin-bottom:60px}
.stakes-header h2, .challenges-header h2{font-family:'Noto Sans', sans-serif;font-size:36px !important;font-weight:700 !important;color:#000864 !important;margin-bottom:16px !important;line-height:1.6 !important}
.stakes-header p, .challenges-header p{font-size:18px;color:#5b6b80}
.stakes-grid, .challenges-grid{display:grid;grid-template-columns:repeat(3, 1fr);gap:32px}
.stake-card, .challenge-card{background:linear-gradient(145deg, #fef2f2 0%, #fee2e2 100%);border:1px solid #fecaca;border-radius:20px;padding:40px 32px;text-align:center}
.stake-icon, .challenge-icon{width:72px;height:72px;background:linear-gradient(135deg, #fee2e2, #fecaca);border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 24px;transition:all 0.4s ease}
.stake-icon svg, .challenge-icon svg{width:32px;height:32px;stroke:#b91c1c;stroke-width:1.5;fill:none}
.stake-card h3, .challenge-card h3{font-family:'Noto Sans', sans-serif;font-size:22px;color:#991b1b;margin-bottom:16px}
.stake-card p, .challenge-card p{font-size:15px;color:#b91c1c;line-height:1.7}
@media (max-width:1024px){.stakes-grid, .challenges-grid{grid-template-columns:1fr}}
@media (max-width:640px){.stake-card, .challenge-card{padding:32px 24px}}


${base.reducedMotion('*{animation:none !important;transition:none !important}')}
`.trim();
}

module.exports = { blocks, css };
